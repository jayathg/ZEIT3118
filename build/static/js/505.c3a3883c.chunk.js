"use strict";(self.webpackChunkpoc=self.webpackChunkpoc||[]).push([[505],{505:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xe});var o=n(528),i=n(661),s=n(326),r=n(609),a=n(830);const l=["error","warn","info","debug"],c=(0,i.fc)((e=>{var t,n,o,i;return i=class extends e{constructor(){super(...arguments),t.add(this),n.set(this,(0,s.gn)(this,t,"m",o).call(this,console))}set logger(e){(0,s.GG)(this,n,(0,s.gn)(this,t,"m",o).call(this,e),"f")}get logger(){return(0,s.gn)(this,n,"f")}onLogEvent(e,t){}},n=new WeakMap,t=new WeakSet,o=function(e){var t=this;return l.reduce(((n,o)=>(n[o]=function(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];t.onLogEvent(o,s),null===(n=e[o])||void 0===n||n.call(e,...s)},n)),{})},i})),d="undefined"!==typeof localStorage,h=d&&localStorage.getItem("base.content.url")||"https://static.descope.com/pages",u=(e,t)=>!t&&"".concat(e," cannot be empty"),g=(0,i.fc)((e=>{var t,n;return n=class extends e{constructor(){super(...arguments),t.set(this,!0)}connectedCallback(){var e,n;null===(e=super.connectedCallback)||void 0===e||e.call(this),(null===(n=this.shadowRoot)||void 0===n?void 0:n.isConnected)&&(0,s.gn)(this,t,"f")&&((0,s.GG)(this,t,!1,"f"),this.init())}async init(){}},t=new WeakMap,n})),m=(0,i.fc)((e=>{var t,n;const o=(0,i.Zz)(c,g)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,{})}async init(){var e,n,o;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),n=this,o=e=>{var n;null===(n=(0,s.gn)(this,t,"f")[e])||void 0===n||n.forEach((t=>{t(e,this.getAttribute(e))}))},Array.from(n.attributes).forEach((e=>o(e.name))),new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&o(e.attributeName)}))})).observe(n,{attributes:!0})}observeAttribute(e,n){(0,s.gn)(this,t,"f")[e]||((0,s.gn)(this,t,"f")[e]=[]);const o=(0,s.gn)(this,t,"f")[e].push(n);return()=>(0,s.gn)(this,t,"f")[e].splice(o,1)}observeAttributes(e,t){const n=e.reduce(((e,n)=>(e.push(this.observeAttribute(n,t)),e)),[]);return()=>n.forEach((e=>e()))}},t=new WeakMap,n})),v=e=>t=>{var n,o,r;const a=(0,i.Zz)(c,g,m)(t),l=Object.keys(e);return r=class extends a{constructor(){super(...arguments),n.add(this),this.observeAttributes(l,(0,s.gn)(this,n,"m",o).bind(this))}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),l.forEach((e=>(0,s.gn)(this,n,"m",o).call(this,e,this.getAttribute(e))))}},n=new WeakSet,o=function(t,n){const o=e[t],i="function"===typeof o?o(t,n):o;i&&this.logger.error(i)},r};v.missingAttrValidator=u;const p=(0,i.fc)((e=>{const t=(0,i.Zz)(v({"project-id":u}))(e);return class extends t{get projectId(){return this.getAttribute("project-id")}}}));const f=(0,i.fc)((e=>{const t=(0,i.Zz)(c,p)(e);return class extends t{async fetchStaticResource(e,t){const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2-beta";const o=new URL(h);return o.pathname=(0,i.CN)(o.pathname,e,n,t),o.toString()}(this.projectId,e),o=await fetch(n,{cache:"default"});return o.ok||this.logger.error("Error fetching URL ".concat(n," [").concat(o.status,"]")),{body:await o[t](),headers:Object.fromEntries(o.headers.entries())}}}})),b=(0,i.fc)((e=>{var t,n,o;const r=(0,i.Zz)(f)(e);return o=class extends r{constructor(){super(...arguments),t.set(this,void 0),n.set(this,(async()=>{try{const{body:e,headers:t}=await this.fetchStaticResource("config.json","json");return{projectConfig:e,executionContext:{geo:t["x-geo"]}}}catch(e){this.logger.error("Cannot fetch config file","make sure that your projectId & flowId are correct")}}))}get config(){return(0,s.gn)(this,t,"f")||(0,s.GG)(this,t,(0,s.gn)(this,n,"f").call(this),"f"),(0,s.gn)(this,t,"f")}},t=new WeakMap,n=new WeakMap,o})),w=(0,i.fc)((e=>{var t,n,o,r,a,l,d;return d=class extends((0,i.Zz)(g,c)(e)){constructor(){super(...arguments),t.add(this),n.set(this,void 0),this.attributeChangedCallback=(e,n,o)=>{var i;null===(i=super.attributeChangedCallback)||void 0===i||i.call(this,e,n,o),"debug"===e&&(0,s.gn)(this,t,"m",a).call(this)}}get debug(){return"true"===this.getAttribute("debug")}onLogEvent(e,n){var o;null===(o=super.onLogEvent)||void 0===o||o.call(this,e,n),"error"===e&&(0,s.gn)(this,t,"m",l).call(this,n[0]||"Error",n[1])}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),(0,s.gn)(this,t,"m",a).call(this)}},n=new WeakMap,t=new WeakSet,o=function(){var e;null===(e=(0,s.gn)(this,n,"f"))||void 0===e||e.remove(),(0,s.GG)(this,n,null,"f")},r=async function(){(0,s.GG)(this,n,document.createElement("descope-debugger"),"f"),Object.assign((0,s.gn)(this,n,"f").style,{position:"fixed",top:"0",right:"0",height:"100vh",width:"100vw",pointerEvents:"none",zIndex:99999}),await Promise.resolve().then((function(){return $})),document.body.appendChild((0,s.gn)(this,n,"f"))},a=function(){this.debug?(0,s.gn)(this,t,"m",r).call(this):(0,s.gn)(this,t,"m",o).call(this)},l=function(e,t){var o;e&&(null===(o=(0,s.gn)(this,n,"f"))||void 0===o||o.updateData({title:e,description:t}))},d})),y="load-descope-ui",R="base.ui.components.url",C=d&&localStorage.getItem(R)||"https://static.descope.com/npm/@descope/web-components-ui@<version>/dist/umd/index.js",x=d&&localStorage.getItem(R)||"https://cdn.jsdelivr.net/npm/@descope/web-components-ui@<version>/dist/umd/index.js",M=e=>{const t=document.createElement("script");return t.id=e,t},k=(e,t)=>e.replace("<version>",t),W=(0,i.fc)((e=>{var t,n,o,r,a,l,d,h,u,g,m,v;const p=(0,i.Zz)(c,b)(e);return v=class extends p{constructor(){super(...arguments),t.add(this),n.set(this,Symbol("errorCbs")),o.set(this,Symbol("loadCbs")),u.set(this,void 0)}get descopeUi(){return(0,s.gn)(this,u,"f")||(0,s.GG)(this,u,(0,s.gn)(this,t,"m",m).call(this),"f"),(0,s.gn)(this,u,"f")}async loadDescopeUiComponents(e){const n=Array.isArray(e)?e:(e=>[...Array.from(e.content.querySelectorAll("*")).reduce(((e,t)=>t.localName.startsWith("descope-")?e.add(t.localName):e),new Set)])(e);return Promise.all(n.map((e=>(0,s.gn)(this,t,"m",g).call(this,e))))}},n=new WeakMap,o=new WeakMap,u=new WeakMap,t=new WeakSet,r=async function(){var e;const t=await this.config,n=null===(e=null===t||void 0===t?void 0:t.projectConfig)||void 0===e?void 0:e.componentsVersion;return n?this.logger.debug('Got component version "'.concat(n,'"')):this.logger.error("Could not get components version"),n},a=function(e){const t=(0,s.gn)(this,n,"f"),i=(0,s.gn)(this,o,"f");e[t]=[],e[i]=[],Object.defineProperty(e,"onerror",{set(n){e[t].push(n)}}),Object.defineProperty(e,"onload",{set(t){e[i].push(t)}})},l=async function(e,n){this.logger.debug("Trying to load DescopeUI from a fallback URL");const o=M("load-descope-ui-fallback-script");document.body.append(o),o.addEventListener("error",(()=>{e.forEach((e=>e('Cannot load DescopeUI from fallback URL, Make sure this URL is valid and return the correct script: "'.concat(o.src,'"'))))})),o.addEventListener("load",(()=>{n.forEach((e=>e()))})),o.src=k(x,await(0,s.gn)(this,t,"m",r).call(this))},d=function(e){e.addEventListener("error",(()=>{e[(0,s.gn)(this,n,"f")].forEach((t=>t('Cannot load DescopeUI from main URL, Make sure this URL is valid and return the correct script: "'.concat(e.src,'"')))),(0,s.gn)(this,t,"m",l).call(this,e[(0,s.gn)(this,n,"f")],e[(0,s.gn)(this,o,"f")])})),e.addEventListener("load",(()=>{e[(0,s.gn)(this,o,"f")].forEach((e=>e()))}))},h=async function(){if(document.querySelector("script#".concat(y)))this.logger.debug("DescopeUI loading script already exists",this);else{this.logger.debug("DescopeUI loading script does not exist, creating it",this);const e=M(y);document.body.append(e),(0,s.gn)(this,t,"m",a).call(this,e),(0,s.gn)(this,t,"m",d).call(this,e),e.src=k(C,await(0,s.gn)(this,t,"m",r).call(this))}return document.getElementById(y)},g=async function(e){if(!!customElements.get(e))return void this.logger.debug('Loading component "'.concat(e,'" is skipped as it is already defined'));const t=await this.descopeUi;if(t[e])try{return await t[e]()}catch(n){if("NotSupportedError"!==n.name)throw n;console.debug('Encountered an error while attempting to define the "'.concat(e,'" component, it is likely that this component is already defined'))}else this.logger.error('Cannot load UI component "'.concat(e,'"'),'Descope UI does not have a component named "'.concat(e,'", available components are: "').concat(Object.keys(t).join(", "),'"'))},m=function(){return new Promise((e=>{globalThis.DescopeUI&&e(globalThis.DescopeUI),(0,s.gn)(this,t,"m",h).call(this).then((t=>{t.onerror=this.logger.error,t.onload=()=>{this.logger.debug("DescopeUI was loaded"),e(globalThis.DescopeUI)},setTimeout((()=>{globalThis.DescopeUI&&e(globalThis.DescopeUI)}))}))}))},v})),S="content-root",j="root",E=(0,i.fc)((e=>class extends e{constructor(){var e,t;super(...arguments),this.attachShadow({mode:"open"}).innerHTML="\n\n          <style>\n            #".concat(j,", #").concat(S," {\n              height: 100%;\n            }\n            #").concat(j,' {\n              position: relative;\n              height: fit-content;\n            }\n          </style>\n          <div id="').concat(j,'">\n            <div id="').concat(S,'"></div>\n          </div>\n          '),this.contentRootElement=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(S),this.rootElement=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById(j)}})),L="descope-modal",I=(0,i.fc)((e=>{var t,n;const o=(0,i.Zz)(g,E,W)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,(()=>{const e=this.loadDescopeUiComponents.bind(this);return class extends r.UZ{setContent(t){e(t),super.setContent(t)}}})())}createModal(e){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.createElement(L);return Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])})),t}(Object.assign(Object.assign({},{}),e));return this.rootElement.append(n),new((0,s.gn)(this,t,"f"))(n,{logger:this.logger})}async init(){var e;this.loadDescopeUiComponents([L]),await(null===(e=super.init)||void 0===e?void 0:e.call(this))}},t=new WeakMap,n})),F="descope-notification",O=(0,i.fc)((e=>{var t,n;const o=(0,i.Zz)(g,E,W)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,(()=>{const e=this.loadDescopeUiComponents.bind(this);return class extends r.An{setContent(t){const n="string"===typeof t?(0,i.Xu)(t):t;e(n),super.setContent(n)}}})())}createNotification(e){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.createElement(F);return Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])})),t}(Object.assign(Object.assign({},{}),e));return this.rootElement.append(n),new((0,s.gn)(this,t,"f"))(n,{logger:this.logger})}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),this.loadDescopeUiComponents([F])}},t=new WeakMap,n})),A=(e,t)=>!!t&&"light"!==t&&"dark"!==t&&'Supported theme values are "light", "dark", or leave empty for using the OS theme',P=(0,i.fc)((e=>{var t,n,o,r,a,l,c,d,h;const u=(0,i.Zz)(v({theme:A}),f,g,W,b,E,m)(e);return h=class extends u{constructor(){super(...arguments),t.add(this),n.set(this,void 0)}get theme(){var e,t;const n=this.getAttribute("theme");if("os"===n){return window.matchMedia&&(null===(t=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light"}return n||"light"}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),(0,s.gn)(this,t,"m",a).call(this),(0,s.gn)(this,t,"m",l).call(this),(0,s.gn)(this,t,"m",c).call(this),(0,s.gn)(this,t,"m",d).call(this),this.observeAttributes(["theme"],(()=>{(0,s.gn)(this,t,"m",c).call(this),(0,s.gn)(this,t,"m",d).call(this)}))}},n=new WeakMap,t=new WeakSet,o=async function(){try{const{body:e}=await this.fetchStaticResource("theme.json","json");return e}catch(e){this.logger.error("Cannot fetch theme file","make sure that your projectId & flowId are correct")}},r=function(){return(0,s.gn)(this,n,"f")||((0,s.GG)(this,n,(0,s.gn)(this,t,"m",o).call(this),"f"),(0,s.gn)(this,n,"f").then((e=>this.logger.debug("Fetched theme",e)))),(0,s.gn)(this,n,"f")},a=async function(){var e,n;const o=await(0,s.gn)(this,t,"a",r);if(!o)return;const i=document.createElement("style");i.innerText=((null===(e=null===o||void 0===o?void 0:o.light)||void 0===e?void 0:e.globals)||"")+((null===(n=null===o||void 0===o?void 0:o.dark)||void 0===n?void 0:n.globals)||""),this.shadowRoot.appendChild(i)},l=async function(){var e,n;const o=Object.assign({},await(0,s.gn)(this,t,"a",r));if(!o)return;const i=await this.descopeUi;(null===i||void 0===i?void 0:i.componentsThemeManager)&&(i.componentsThemeManager.themes={light:null===(e=null===o||void 0===o?void 0:o.light)||void 0===e?void 0:e.components,dark:null===(n=null===o||void 0===o?void 0:o.dark)||void 0===n?void 0:n.components})},c=async function(){var e,t;const{projectConfig:n}=await this.config,o=null===(t=null===(e=null===n||void 0===n?void 0:n.cssTemplate)||void 0===e?void 0:e[this.theme])||void 0===t?void 0:t.fonts;o&&Object.values(o).forEach((e=>{e.url&&(this.logger.debug('Loading font from URL "'.concat(e.url,'"')),(e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)})(e.url))}))},d=async function(){this.rootElement.setAttribute("data-theme",this.theme);const e=await this.descopeUi;(null===e||void 0===e?void 0:e.componentsThemeManager)&&(e.componentsThemeManager.currentThemeName=this.theme)},h})),D=e=>(0,i.fc)((t=>{const n=(0,a.Z0)(e),o=Object.assign(Object.assign({},n.actions),e.asyncActions);return class extends((0,i.Zz)(c)(t)){constructor(){var e;super(...arguments),e=this;const t=(0,a.U1)({reducer:n.reducer,middleware:e=>e({thunk:{extraArgument:this},serializableCheck:!1}),devTools:!1}),i=Object.keys(o).reduce(((n,i)=>{var s;return n[i]=(s=o[i],async function(){const n=await t.dispatch(s(...arguments));try{(0,a.pH)(n)}catch(o){e.logger.error(o.message,n.type,o.stack)}return n}),n}),{});this.actions=i,this.subscribe=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return t.subscribe((()=>e(n(t.getState()))))}}}})),H=(0,i.fc)((e=>class extends(c(e)){validateForm(e){return this.getFormInputs(e).every((e=>{var t,n;return null===(t=e.reportValidity)||void 0===t||t.call(e),null===(n=e.checkValidity)||void 0===n?void 0:n.call(e)}))}getFormInputs(e){return e?Array.from(e.querySelectorAll("[name]")):(this.logger.debug("cannot get form inputs, no root element was received"),[])}getFormData(e){return this.getFormInputs(e).reduce(((e,t)=>Object.assign(e,{[t.getAttribute("name")]:t.value})),{})}setFormData(e,t){this.getFormInputs(e).forEach((e=>{t.hasOwnProperty(e.getAttribute("name"))&&(e.value=t[e.getAttribute("name")])}))}resetFormData(e){this.getFormInputs(e).forEach((e=>{e.value="",e.checked=!1}))}getFormFieldNames(e){return this.getFormInputs(e).map((e=>e.name))}disableFormField(e,t){var n;null===(n=this.getFormInputs(e).find((e=>e.name===t)))||void 0===n||n.setAttribute("disabled","true")}removeFormField(e,t){var n;null===(n=this.getFormInputs(e).find((e=>e.name===t)))||void 0===n||n.remove()}})),z=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i,s,r,a;return[Math.min(Math.max(t,("all"===o.left?e.offsetWidth:null!==(i=o.left)&&void 0!==i?i:0)-e.offsetWidth),window.innerWidth-("all"===o.right?e.offsetWidth:null!==(s=o.right)&&void 0!==s?s:0)),Math.min(Math.max(n,("all"===o.top?e.offsetHeight:null!==(r=o.top)&&void 0!==r?r:0)-e.offsetHeight),window.innerHeight-("all"===o.bottom?e.offsetHeight:null!==(a=o.bottom)&&void 0!==a?a:0))]};var N,T,U,Z,q,G,B,_,X,V;const Y=document.createElement("template");Y.innerHTML="\n<style>\n  .debugger {\n    width: ".concat(300,"px;\n    height: ").concat(200,'px;\n    background-color: #FAFAFA;\n    position: fixed;\n    font-family: "Helvetica Neue", sans-serif;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 10px;\n    border-radius: 8px;\n    overflow: hidden;\n    border: 1px solid lightgrey;\n    pointer-events: initial;\n    display: flex;\n    flex-direction: column;\n    min-width: ').concat(200,"px;\n    max-width: 600px;\n    max-height: calc(100% - ").concat(64,"px);\n    min-height: ").concat(200,'px;\n    resize: both;\n  }\n\n  .header {\n    padding: 8px 16px;\n    display: flex;\n    align-items: center;\n    background-color: #EEEEEE;\n    cursor: move;\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  .content {\n    font-size: 14px;\n    flex-grow: 1;\n    overflow: auto;\n  }\n\n  .msg {\n    border-bottom: 1px solid lightgrey;\n    padding: 8px 16px;\n    display: flex;\n    gap: 5px;\n    background-color: #FAFAFA;\n  }\n\n  .msg.collapsible {\n    cursor: pointer;\n  }\n\n  .empty-state {\n    padding: 8px 16px;\n    background-color: #FAFAFA;\n  }\n\n\n  .msg.collapsible:not(.collapsed) {\n    background-color: #F5F5F5;\n  }\n\n  .msg_title {\n    padding-bottom: 5px;\n    display: flex;\n    gap: 8px;\n    font-weight: 500;\n  }\n\n  .msg svg {\n    padding: 1px;\n    flex-shrink: 0;\n    margin-top: -2px;\n  }\n\n  .msg_content {\n    overflow: hidden;\n    flex-grow: 1;\n    margin-right:5px;\n  }\n\n  .msg_desc {\n    color: #646464;\n    cursor: initial;\n    word-wrap: break-word;\n  }\n\n  .msg.collapsed .msg_desc {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .msg.collapsible.collapsed .chevron {\n    transform: rotate(-45deg) translateX(-2px);\n  }\n\n  .msg.collapsible .chevron {\n    content: "";\n    width:6px;\n    height:6px;\n    border-bottom: 2px solid grey;\n    border-right: 2px solid grey;\n    transform: rotate(45deg) translateX(-1px);\n    margin: 5px;\n    flex-shrink:0;\n  }\n</style>\n\n<div style="top:').concat(32,"px; left:").concat(window.innerWidth-300-32,'px;" class="debugger">\n  <div class="header">\n    <span>Debugger messages</span>\n  </div>\n  <div class="content">\n    <div class="empty-state">\n      No errors detected \ud83d\udc40\n    </div>\n  </div>\n</div>\n');class J extends HTMLElement{constructor(){var e;super(),N.add(this),T.set(this,new i.Uw({messages:[]})),U.set(this,void 0),Z.set(this,void 0),q.set(this,void 0),G.set(this,{resize:(0,s.gn)(this,N,"m",V).bind(this)}),this.attachShadow({mode:"open"}),null===(e=this.shadowRoot)||void 0===e||e.appendChild(Y.content.cloneNode(!0)),(0,s.GG)(this,U,this.shadowRoot.querySelector(".debugger"),"f"),(0,s.GG)(this,Z,(0,s.gn)(this,U,"f").querySelector(".content"),"f"),(0,s.GG)(this,q,(0,s.gn)(this,U,"f").querySelector(".header"),"f")}updateData(e){(0,s.gn)(this,T,"f").update((t=>({messages:t.messages.concat(e)})))}connectedCallback(){var e;((e,t,n)=>{let o=0,i=0,s=0,r=0;function a(t){t.preventDefault(),o=s-t.clientX,i=r-t.clientY,s=t.clientX,r=t.clientY;const[a,l]=z(e,e.offsetLeft-o,e.offsetTop-i,n);e.style.top="".concat(l,"px"),e.style.left="".concat(a,"px")}function l(){document.onmouseup=null,document.onmousemove=null}function c(e){e.preventDefault(),s=e.clientX,r=e.clientY,document.onmouseup=l,document.onmousemove=a}t?t.onmousedown=c:e.onmousedown=c})((0,s.gn)(this,U,"f"),(0,s.gn)(this,q,"f"),{top:"all",bottom:100,left:100,right:100}),window.addEventListener("resize",(0,s.gn)(this,G,"f").resize),(e=(0,s.gn)(this,U,"f")).onmousemove=t=>{var n;const o=t.target;(o.w&&o.w!==o.offsetWidth||o.h&&o.h!==o.offsetHeight)&&(null===(n=e.onresize)||void 0===n||n.call(e,t)),o.w=o.offsetWidth,o.h=o.offsetHeight},(0,s.gn)(this,U,"f").onresize=(0,s.gn)(this,N,"m",X).bind(this),(0,s.gn)(this,T,"f").subscribe((0,s.gn)(this,N,"m",B).bind(this))}disconnectedCallback(){(0,s.gn)(this,T,"f").unsubscribeAll(),window.removeEventListener("resize",(0,s.gn)(this,G,"f").resize)}}T=new WeakMap,U=new WeakMap,Z=new WeakMap,q=new WeakMap,G=new WeakMap,N=new WeakSet,B=function(e){(0,s.gn)(this,N,"m",_).call(this,e),(0,s.gn)(this,N,"m",X).call(this)},_=function(e){(0,s.gn)(this,Z,"f").innerHTML=e.messages.map((e=>'\n    <div class="msg">\n      '.concat('<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.99984 13.167L8.99984 10.167L11.9998 13.167L13.1665 12.0003L10.1665 9.00033L13.1665 6.00033L11.9998 4.83366L8.99984 7.83366L5.99984 4.83366L4.83317 6.00033L7.83317 9.00033L4.83317 12.0003L5.99984 13.167ZM8.99984 17.3337C7.84706 17.3337 6.76373 17.1148 5.74984 16.677C4.73595 16.2398 3.854 15.6462 3.104 14.8962C2.354 14.1462 1.76039 13.2642 1.32317 12.2503C0.885393 11.2364 0.666504 10.1531 0.666504 9.00033C0.666504 7.84755 0.885393 6.76421 1.32317 5.75033C1.76039 4.73644 2.354 3.85449 3.104 3.10449C3.854 2.35449 4.73595 1.7606 5.74984 1.32283C6.76373 0.885603 7.84706 0.666992 8.99984 0.666992C10.1526 0.666992 11.2359 0.885603 12.2498 1.32283C13.2637 1.7606 14.1457 2.35449 14.8957 3.10449C15.6457 3.85449 16.2393 4.73644 16.6765 5.75033C17.1143 6.76421 17.3332 7.84755 17.3332 9.00033C17.3332 10.1531 17.1143 11.2364 16.6765 12.2503C16.2393 13.2642 15.6457 14.1462 14.8957 14.8962C14.1457 15.6462 13.2637 16.2398 12.2498 16.677C11.2359 17.1148 10.1526 17.3337 8.99984 17.3337ZM8.99984 15.667C10.8609 15.667 12.4373 15.0212 13.729 13.7295C15.0207 12.4378 15.6665 10.8614 15.6665 9.00033C15.6665 7.13921 15.0207 5.56283 13.729 4.27116C12.4373 2.97949 10.8609 2.33366 8.99984 2.33366C7.13873 2.33366 5.56234 2.97949 4.27067 4.27116C2.979 5.56283 2.33317 7.13921 2.33317 9.00033C2.33317 10.8614 2.979 12.4378 4.27067 13.7295C5.56234 15.0212 7.13873 15.667 8.99984 15.667Z" fill="#ED404A"/>\n</svg>\n','\n      <div class="msg_content">\n        <div class="msg_title">\n          ').concat(e.title,'\n        </div>\n        <div class="msg_desc">\n          ').concat(e.description||"",'\n        </div>\n      </div>\n      <div class="chevron"></div>\n    </div>\n  '))).join("")},X=function(){(0,s.gn)(this,Z,"f").querySelectorAll(".msg").forEach((e=>{const t=e,n=t.querySelector(".msg_desc"),o=n.scrollWidth>n.clientWidth,i=n.clientHeight>20;o||i?(t.classList.add("collapsible"),t.onclick=e=>{e.target.classList.contains("msg_desc")||t.classList.toggle("collapsed")}):(t.classList.remove("collapsible"),t.onclick=null)}))},V=function(){const[e,t]=z((0,s.gn)(this,U,"f"),Number.parseInt((0,s.gn)(this,U,"f").style.left,10),Number.parseInt((0,s.gn)(this,U,"f").style.top,10),{top:"all",bottom:100,left:100,right:100});(0,s.gn)(this,U,"f").style.top="".concat(t,"px"),(0,s.gn)(this,U,"f").style.left="".concat(e,"px")},customElements.get("descope-debugger")||customElements.define("descope-debugger",J);var K,Q,$=Object.freeze({__proto__:null}),ee=n(99),te=n(710);const ne=e=>e.selectedRolesIds,oe=e=>e.notifications,ie=e=>e.tenantPermissions.data||[],se=(0,ee.Mz)((e=>e.rolesList.data),(e=>e.map((e=>{var t;return Object.assign(Object.assign({},e),{editable:0===(null===(t=null==e?void 0:e.tenantId)||void 0===t?void 0:t.length)?"no":"yes"})})))),re=(0,ee.Mz)(ne,se,((e,t)=>t.filter((t=>e.includes(t.name))))),ae=(0,ee.Mz)(ne,(e=>!!e.length)),le=(0,ee.Mz)(ne,(e=>1===e.length)),ce=(0,ee.Mz)(re,(e=>1===e.length?e[0].name:"".concat(e.length," roles"))),de=e=>function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return t=>{t.addCase(e.pending,((e,t)=>{n.forEach((n=>{let{onPending:o}=n;null==o||o(e,t)}))})),t.addCase(e.fulfilled,((e,t)=>{n.forEach((n=>{let{onFulfilled:o}=n;null==o||o(e,t)}))})),t.addCase(e.rejected,((e,t)=>{n.forEach((n=>{let{onRejected:o}=n;null==o||o(e,t)}))}))}},he=e=>({onFulfilled:t=>{e(t).loading=!1},onPending:t=>{e(t).loading=!0,e(t).error=null},onRejected:(t,n)=>{e(t).loading=!1,e(t).error=n.error}}),ue=e=>{let{getErrorMsg:t,getSuccessMsg:n}=e;return{onFulfilled:(e,t)=>{n&&e.notifications.push({type:"success",msg:n(t)})},onRejected:(e,n)=>{t&&e.notifications.push({type:"error",msg:t(n)})}}},ge=(0,a.zD)("roles/create",((e,t)=>{let{extra:{api:n}}=t;return n.role.create(e)})),me={action:ge,reducer:de(ge)({onFulfilled:(e,t)=>{e.rolesList.data.unshift(t.payload)}},he((e=>e.createRole)),ue({getSuccessMsg:()=>"Role created successfully",getErrorMsg:e=>{var t;return"\n      <div>\n        <div>Failed to create role</div>\n        ".concat(null===(t=e.error)||void 0===t?void 0:t.message,"\n      </div>")}}))},ve=(0,a.zD)("roles/delete",((e,t)=>{let{extra:{api:n}}=t;return n.role.deleteBatch(e)})),pe={action:ve,reducer:de(ve)({onFulfilled:(e,t)=>{e.rolesList.data=e.rolesList.data.filter((e=>{var n;return 0===(null===(n=null==e?void 0:e.tenantId)||void 0===n?void 0:n.length)||!t.meta.arg.includes(e.name)})),e.selectedRolesIds=[]}},he((e=>e.deleteRole)),ue({getSuccessMsg:e=>(0,i.td)(e.meta.arg.length)(K||(K=(0,o.A)([""," ","ole"," deleted successfully"])),["",e.meta.arg.length],["R","r"],["","s"]),getErrorMsg:e=>(0,i.td)(e.meta.arg.length)(Q||(Q=(0,o.A)(["Failed to delete role",""])),["","s"])}))},fe=(0,a.zD)("roles/search",((e,t)=>{let{extra:{api:n},getState:o}=t;const i=o().searchParams;return n.role.search(Object.assign(Object.assign({},i),e))})),be={action:fe,reducer:de(fe)({onPending:(e,t)=>{e.searchParams=Object.assign(Object.assign({},e.searchParams),t.meta.arg)},onFulfilled:(e,t)=>{e.rolesList.data=t.payload}},he((e=>e.rolesList)))},we=(0,a.zD)("roles/update",((e,t)=>{let{extra:{api:n}}=t;return n.role.update(e)})),ye={action:we,reducer:de(we)({onFulfilled:(e,t)=>{const n=e.rolesList.data.findIndex((e=>e.name===t.payload.oldName));-1!==n&&(e.rolesList.data[n]=t.payload)}},he((e=>e.updateRole)),ue({getSuccessMsg:()=>"Role updated successfully",getErrorMsg:e=>{var t;return"\n      <div>\n        <div>Failed to update role</div>\n        ".concat(null===(t=e.error)||void 0===t?void 0:t.message,"\n      </div>")}}))},Re=(0,a.zD)("tenant/getTenantPermissions",((e,t)=>{let{extra:{api:n}}=t;return n.tenant.getTenantPermissions()})),Ce={action:Re,reducer:de(Re)({onFulfilled:(e,t)=>{e.tenantPermissions.data=t.payload.permissions}},he((e=>e.tenantPermissions)))},xe={rolesList:{data:[],loading:!1,error:null},createRole:{loading:!1,error:null},updateRole:{loading:!1,error:null},deleteRole:{loading:!1,error:null},tenantPermissions:{loading:!1,error:null,data:[]},searchParams:{text:"",sort:[]},selectedRolesIds:[],notifications:[]},Me="/v1/mgmt/role/search",ke="/v1/mgmt/role/delete/batch",We="/v1/mgmt/role/create",Se="/v1/mgmt/role/update",je="/v1/mgmt/permission/all",Ee=e=>(0,s.sH)(void 0,void 0,void 0,(function*(){const t=yield e.text(),n=JSON.parse(t);if(!e.ok){const t="".concat(n.errorDescription).concat(n.errorMessage?": ".concat(n.errorMessage):"");throw Error(t||"".concat(e.status," ").concat(e.statusText))}e.json=()=>Promise.resolve(n),e.text=()=>Promise.resolve(t)})),Le=e=>{let{httpClient:t,tenant:n,mock:o}=e;return{search:function(){let{page:e,limit:i=1e4,text:r,sort:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.sH)(void 0,void 0,void 0,(function*(){if(o)return((e,t)=>{let{text:n,sort:o}=e;return(0,s.sH)(void 0,void 0,void 0,(function*(){return new Promise((e=>{const i=[];for(let n=1;n<9;n+=1)i.push({name:"Role ".concat(n),description:"Role description ".concat(n),permissionNames:["Permission ".concat(n)],createdTime:new Date,tenantId:t});o.forEach((e=>{i.sort(((t,n)=>{var o,i;return e.desc?null===(i=n[e.field])||void 0===i?void 0:i.localeCompare(t[e.field]):null===(o=t[e.field])||void 0===o?void 0:o.localeCompare(n[e.field])}))})),e(i.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase()))))}))}))})({page:e,limit:i,text:r,sort:a},n);const l=yield t.post(Me,{limit:i,page:e,text:r,sort:a},{queryParams:{tenant:n}});return yield Ee(l),(yield l.json()).roles}))},deleteBatch:e=>(0,s.sH)(void 0,void 0,void 0,(function*(){if(o)return(0,s.sH)(void 0,void 0,void 0,(function*(){}));const i=yield t.post(ke,{roleNames:e},{queryParams:{tenant:n}});return yield Ee(i),i.json()})),create:e=>{let{name:i,description:r,permissionNames:a}=e;return(0,s.sH)(void 0,void 0,void 0,(function*(){if(o)return((e,t)=>{let{name:n,description:o,permissionNames:i}=e;return(0,s.sH)(void 0,void 0,void 0,(function*(){return new Promise((e=>{e({name:n,description:o,permissionNames:i,createdTime:new Date,tenantId:t})}))}))})({name:i,description:r,permissionNames:a},n);const e=yield t.post(We,{name:i,description:r,permissionNames:a,tenantId:n},{queryParams:{tenant:n}});return yield Ee(e),yield e.json()}))},update:e=>{let{name:i,newName:r,description:a,permissionNames:l}=e;return(0,s.sH)(void 0,void 0,void 0,(function*(){if(o)return((e,t)=>{let{name:n,newName:o,description:i,permissionNames:r}=e;return(0,s.sH)(void 0,void 0,void 0,(function*(){return new Promise((e=>{e({name:o,description:i,permissionNames:r,createdTime:new Date,oldName:n,tenantId:t})}))}))})({name:i,newName:r,description:a,permissionNames:l},n);const e=yield t.post(Se,{name:i,newName:r,description:a,permissionNames:l,tenantId:n},{queryParams:{tenant:n}});yield Ee(e);const c=yield e.json();return c.oldName=i,c}))}}},Ie=e=>{let{httpClient:t,tenant:n,mock:o}=e;return{getTenantPermissions:()=>(0,s.sH)(void 0,void 0,void 0,(function*(){if(o)return new Promise((e=>{const t=[];for(let n=1;n<5;n+=1)t.push({name:"Permission ".concat(n)});e({permissions:t})}));const e=yield t.get(je,{queryParams:{tenant:n}});return yield Ee(e),e.json()}))}},Fe=(0,i.fc)((e=>{var t,n,o,r;const a=(0,i.Zz)(p,m,c,v({tenant:v.missingAttrValidator}))(e);return r=class extends a{constructor(){super(...arguments),t.add(this),n.set(this,void 0)}get baseUrl(){return this.getAttribute("base-url")}get tenant(){return this.getAttribute("tenant")}get mock(){return this.getAttribute("mock")}get api(){return(0,s.gn)(this,n,"f")||(0,s.gn)(this,t,"m",o).call(this),(0,s.gn)(this,n,"f")}init(){const e=Object.create(null,{init:{get:()=>super.init}});var i;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(i=e.init)||void 0===i?void 0:i.call(this),this.observeAttributes(["project-id","base-url","tenant"],(()=>{(0,s.gn)(this,n,"f")&&(0,s.gn)(this,t,"m",o).call(this)}))}))}},n=new WeakMap,t=new WeakSet,o=function(){this.logger.debug("creating an sdk instance"),(0,s.GG)(this,n,((e,t,n)=>{const o=(0,te.Ay)(Object.assign(Object.assign({},e),{persistTokens:!0}));return{role:Le({httpClient:o.httpClient,tenant:t,mock:n}),tenant:Ie({httpClient:o.httpClient,tenant:t,mock:n})}})({projectId:this.projectId,baseUrl:this.baseUrl},this.tenant,"true"===this.mock),"f")},r})),Oe=(0,i.fc)((e=>{const t=(0,i.Zz)(D({name:"widget",initialState:xe,reducers:{setSelectedRolesIds:(e,t)=>{let{payload:n}=t;e.selectedRolesIds=n},clearNotifications:e=>{e.notifications=[]}},extraReducers:e=>{me.reducer(e),ye.reducer(e),pe.reducer(e),be.reducer(e),Ce.reducer(e)},asyncActions:{searchRoles:be.action,createRole:me.action,updateRole:ye.action,deleteRoles:pe.action,getTenantPermissions:Ce.action}}),g,c,Fe)(e);return class extends t{constructor(){super(...arguments),this.state=xe,this.subscribe((e=>{this.logger.debug("State update:",e),this.state=e}))}}})),Ae=(0,i.fc)((e=>{const t=(0,i.Zz)(f,v({"widget-id":v.missingAttrValidator}))(e);return class extends t{get widgetId(){return this.getAttribute("widget-id")}fetchWidgetPage(e){return(0,s.sH)(this,void 0,void 0,(function*(){return(yield this.fetchStaticResource("role-management-widget/".concat(this.widgetId,"/").concat(e),"text")).body}))}}})),Pe=(0,i.fc)((e=>{var t,n,o;return o=class extends((0,i.Zz)(c,g,W,E,Ae,Oe)(e)){constructor(){super(...arguments),t.add(this)}onWidgetRootReady(){return(0,s.sH)(this,void 0,void 0,(function*(){}))}init(){const e=Object.create(null,{init:{get:()=>super.init}});var o;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(o=e.init)||void 0===o?void 0:o.call(this),yield Promise.all([(0,s.gn)(this,t,"m",n).call(this),this.actions.searchRoles(),this.actions.getTenantPermissions()]),this.onWidgetRootReady()}))}},t=new WeakSet,n=function(){return(0,s.sH)(this,void 0,void 0,(function*(){const e=(0,i.Xu)(yield this.fetchWidgetPage("root.html"));yield this.loadDescopeUiComponents(e),this.contentRootElement.append(e.content.cloneNode(!0))}))},o})),De=(0,i.fc)((e=>{var t,n,o,a,l;return l=class extends((0,i.Zz)(Oe,I,H,c,Pe)(e)){constructor(){super(...arguments),t.add(this),n.set(this,void 0),a.set(this,(()=>(0,s.sH)(this,void 0,void 0,(function*(){var e;yield(0,s.gn)(this,n,"f").setData(null===(e=ie(this.state))||void 0===e?void 0:e.map((e=>{let{name:t}=e;return{value:t,label:t}})))}))))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var n;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(n=e.onWidgetRootReady)||void 0===n?void 0:n.call(this),(0,s.gn)(this,t,"m",o).call(this)}))}},n=new WeakMap,a=new WeakMap,t=new WeakSet,o=function(){return(0,s.sH)(this,void 0,void 0,(function*(){this.createRoleModal=this.createModal(),this.createRoleModal.setContent((0,i.Xu)(yield this.fetchWidgetPage("create-role-modal.html")));new r.PW((()=>{var e;return null===(e=this.createRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-cancel"]')}),{logger:this.logger}).onClick((()=>{this.createRoleModal.close(),this.resetFormData(this.createRoleModal.ele)}));const e=new r.PW((()=>{var e;return null===(e=this.createRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-submit"]')}),{logger:this.logger});e.onClick((()=>(0,s.sH)(this,void 0,void 0,(function*(){this.validateForm(this.createRoleModal.ele)&&(this.actions.createRole(Object.assign({},this.getFormData(this.createRoleModal.ele))),this.createRoleModal.close(),this.resetFormData(this.createRoleModal.ele))})))),(0,s.GG)(this,n,new r.CO((()=>{var e;return null===(e=this.createRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="permissions-multiselect"]')}),{logger:this.logger}),"f"),(0,s.gn)(this,a,"f").call(this)}))},l})),He=(0,i.fc)((e=>{var t,n,o;return o=class extends((0,i.Zz)(c,De,Pe)(e)){constructor(){super(...arguments),t.add(this)}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var o;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(o=e.onWidgetRootReady)||void 0===o?void 0:o.call(this),(0,s.gn)(this,t,"m",n).call(this)}))}},t=new WeakSet,n=function(){var e;this.createButton=new r.PW(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="create-role"]'),{logger:this.logger}),this.createButton.onClick((()=>this.createRoleModal.open()))},o})),ze=(0,i.fc)((e=>{var t,n,o;return o=class extends((0,i.Zz)(Oe,I,c,Pe)(e)){constructor(){super(...arguments),t.add(this)}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var o;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(o=e.onWidgetRootReady)||void 0===o?void 0:o.call(this),yield(0,s.gn)(this,t,"m",n).call(this)}))}},t=new WeakSet,n=function(){var e;return(0,s.sH)(this,void 0,void 0,(function*(){this.deleteRolesModal=this.createModal(),this.deleteRolesModal.setContent((0,i.Xu)(yield this.fetchWidgetPage("delete-roles-modal.html")));const t=new r.PW((()=>{var e;return null===(e=this.deleteRolesModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-cancel"]')}),{logger:this.logger});t.onClick((()=>this.deleteRolesModal.close()));const n=new r.PW((()=>{var e;return null===(e=this.deleteRolesModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-submit"]')}),{logger:this.logger});n.onClick((()=>{const e=re(this.state);this.actions.deleteRoles(null==e?void 0:e.map((e=>e.name))),this.deleteRolesModal.close()}));const o=new r.O8(null===(e=this.deleteRolesModal.ele)||void 0===e?void 0:e.querySelector('[data-id="body-text"]'),{logger:this.logger});this.deleteRolesModal.beforeOpen=()=>{const e=ce(this.state);o.text="Delete ".concat(e,"?")}}))},o})),Ne=(0,i.fc)((e=>{var t,n,o,a;return a=class extends((0,i.Zz)(c,Pe,Oe,ze)(e)){constructor(){super(...arguments),t.add(this),o.set(this,(0,i.CM)((e=>{e?this.deleteButton.enable():this.deleteButton.disable()})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var i;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(i=e.onWidgetRootReady)||void 0===i?void 0:i.call(this),(0,s.gn)(this,t,"m",n).call(this),this.subscribe((0,s.gn)(this,o,"f").bind(this),ae)}))}},o=new WeakMap,t=new WeakSet,n=function(){var e;this.deleteButton=new r.PW(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="delete-roles"]'),{logger:this.logger}),this.deleteButton.disable(),this.deleteButton.onClick((()=>{this.deleteRolesModal.open()}))},a})),Te=(0,i.fc)((e=>{var t,n,o,a,l,d,h,u;return u=class extends((0,i.Zz)(Oe,I,c,H,Pe)(e)){constructor(){super(...arguments),t.add(this),n.set(this,void 0),l.set(this,(()=>(0,s.sH)(this,void 0,void 0,(function*(){var e;yield(0,s.gn)(this,n,"f").setData(null===(e=ie(this.state))||void 0===e?void 0:e.map((e=>{let{name:t}=e;return{value:t,label:t}})))})))),d.set(this,(()=>{var e;const t=null===(e=re(this.state))||void 0===e?void 0:e[0],n={name:null==t?void 0:t.name,description:null==t?void 0:t.description,permissionNames:null==t?void 0:t.permissionNames};this.setFormData(this.editRoleModal.ele,n)}))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var n;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(n=e.onWidgetRootReady)||void 0===n?void 0:n.call(this),yield(0,s.gn)(this,t,"m",h).call(this)}))}},n=new WeakMap,l=new WeakMap,d=new WeakMap,t=new WeakSet,o=function(){new r.PW((()=>{var e;return null===(e=this.editRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-cancel"]')}),{logger:this.logger}).onClick((()=>this.editRoleModal.close()))},a=function(){new r.PW((()=>{var e;return null===(e=this.editRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="modal-submit"]')}),{logger:this.logger}).onClick((()=>{var e;if(this.validateForm(this.editRoleModal.ele)){const t=this.getFormData(this.editRoleModal.ele),{name:n}=t,o=(0,s.Tt)(t,["name"]),i=null===(e=re(this.state))||void 0===e?void 0:e[0];this.actions.updateRole(Object.assign({newName:n,name:i.name},o)),this.editRoleModal.close(),this.resetFormData(this.editRoleModal.ele)}}))},h=function(){return(0,s.sH)(this,void 0,void 0,(function*(){this.editRoleModal=this.createModal(),this.editRoleModal.setContent((0,i.Xu)(yield this.fetchWidgetPage("edit-role-modal.html"))),(0,s.gn)(this,t,"m",o).call(this),(0,s.gn)(this,t,"m",a).call(this),(0,s.GG)(this,n,new r.CO((()=>{var e;return null===(e=this.editRoleModal.ele)||void 0===e?void 0:e.querySelector('[data-id="permissions-multiselect"]')}),{logger:this.logger}),"f"),this.editRoleModal.beforeOpen=()=>(0,s.sH)(this,void 0,void 0,(function*(){yield(0,s.gn)(this,l,"f").call(this),(0,s.gn)(this,d,"f").call(this)}))}))},u})),Ue=(0,i.fc)((e=>{var t,n,o,a;return a=class extends((0,i.Zz)(c,Pe,Oe,Te,H)(e)){constructor(){super(...arguments),t.add(this),o.set(this,(0,i.CM)((e=>{e?this.editButton.enable():this.editButton.disable()})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var i;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(i=e.onWidgetRootReady)||void 0===i?void 0:i.call(this),(0,s.gn)(this,t,"m",n).call(this),this.subscribe((0,s.gn)(this,o,"f").bind(this),le)}))}},o=new WeakMap,t=new WeakSet,n=function(){var e;this.editButton=new r.PW(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="edit-role"]'),{logger:this.logger}),this.editButton.disable(),this.editButton.onClick((()=>{this.editRoleModal.open()}))},a})),Ze=(0,i.fc)((e=>{var t,n,o,a;return a=class extends((0,i.Zz)(c,Pe,Oe)(e)){constructor(){super(...arguments),t.add(this),n.set(this,(0,i.sg)((()=>{this.actions.searchRoles({text:this.searchInput.value})})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var n;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(n=e.onWidgetRootReady)||void 0===n?void 0:n.call(this),(0,s.gn)(this,t,"m",o).call(this)}))}},n=new WeakMap,t=new WeakSet,o=function(){var e;this.searchInput=new r.Yx(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="search-input"]'),{logger:this.logger}),this.searchInput.onInput((0,s.gn)(this,n,"f"))},a})),qe={success:(new DOMParser).parseFromString('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="Checkmark">\n<path id="Shape" d="M10.0485 15.6396C9.5799 15.171 8.8201 15.171 8.35147 15.6396C7.88284 16.1082 7.88284 16.868 8.35147 17.3367L12.7072 21.6924C13.1759 22.1611 13.9357 22.1611 14.4043 21.6924L24.7152 11.3815C25.1838 10.9129 25.1838 10.1531 24.7152 9.68448C24.2466 9.21585 23.4868 9.21585 23.0181 9.68448L13.5558 19.1469L10.0485 15.6396Z" fill="white"/>\n</g>\n</svg>\n',"image/svg+xml").firstChild,error:(new DOMParser).parseFromString('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="Icon">\n<path id="Vector" d="M15.9998 26.6558C10.1118 26.6558 5.34375 21.8878 5.34375 15.9998C5.34375 10.1118 10.1118 5.34375 15.9998 5.34375C21.8878 5.34375 26.6558 10.1118 26.6558 15.9998C26.6558 21.8878 21.8878 26.6558 15.9998 26.6558ZM15.9998 24.4798C20.6718 24.4798 24.4798 20.7038 24.4798 15.9998C24.4798 11.3278 20.7038 7.51975 15.9998 7.51975C11.3278 7.51975 7.51975 11.2958 7.51975 15.9998C7.51975 20.6718 11.2958 24.4798 15.9998 24.4798ZM15.3278 9.34375H16.6718C17.0558 9.34375 17.3438 9.63175 17.3118 9.98375L16.9598 16.9278C16.9598 17.1838 16.7678 17.3438 16.5438 17.3438H15.4558C15.2318 17.3438 15.0398 17.1518 15.0398 16.9278L14.6878 9.98375C14.6878 9.63175 14.9758 9.34375 15.3278 9.34375ZM15.4558 19.4558H16.5438C16.9278 19.4558 17.2158 19.7438 17.1838 20.1278V21.1838C17.1838 21.5678 16.8958 21.8558 16.5438 21.8558H15.4558C15.0718 21.8558 14.7838 21.5678 14.7838 21.1838V20.1278C14.7838 19.7438 15.0718 19.4558 15.4558 19.4558Z" fill="#FFDFDD"/>\n</g>\n</svg>\n',"image/svg+xml").firstChild},Ge=(0,i.fc)((e=>{var t,n,o,r,a;return a=class extends((0,i.Zz)(c,Oe,O,g)(e)){constructor(){super(...arguments),t.add(this),r.set(this,(0,i.CM)((e=>{e.length&&(e.forEach((e=>{let{type:i,msg:r}=e;const a=(0,s.gn)(this,t,"m",o).call(this,i);a.setContent((0,s.gn)(this,t,"m",n).call(this,{type:i,msg:r})),a.show()})),setTimeout((()=>this.actions.clearNotifications())))})))}init(){const e=Object.create(null,{init:{get:()=>super.init}});var t;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(t=e.init)||void 0===t?void 0:t.call(this),this.subscribe((0,s.gn)(this,r,"f").bind(this),oe)}))}},r=new WeakMap,t=new WeakSet,n=function(e){let{type:t,msg:n}=e;const o=qe[t],i=Object.assign((new DOMParser).parseFromString('<svg width="2em" height="2em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="Icon">\n<path id="Shape" d="M10.6712 12L7.27521 8.60406C6.90826 8.23711 6.90826 7.64216 7.27521 7.27521C7.64216 6.90826 8.23711 6.90826 8.60406 7.27521L12 10.6712L15.3959 7.27521C15.7629 6.90826 16.3578 6.90826 16.7248 7.27521C17.0917 7.64216 17.0917 8.23711 16.7248 8.60406L13.3288 12L16.7248 15.3959C17.0917 15.7629 17.0917 16.3578 16.7248 16.7248C16.3578 17.0917 15.7629 17.0917 15.3959 16.7248L12 13.3288L8.60406 16.7248C8.23711 17.0917 7.64216 17.0917 7.27521 16.7248C6.90826 16.3578 6.90826 15.7629 7.27521 15.3959L10.6712 12Z" fill="white"/>\n</g>\n</svg>\n',"image/svg+xml").firstChild,{slot:"close"});return"".concat((null==o?void 0:o.outerHTML)||"").concat(n).concat(i.outerHTML)},o=function(e){return this.createNotification({mode:e,duration:"error"===e?0:3e3,position:"bottom-start",size:"sm"})},a})),Be=(0,i.fc)((e=>{var t,n,o,a,l;return l=class extends((0,i.Zz)(Oe,c,Pe)(e)){constructor(){super(...arguments),t.add(this),o.set(this,(0,i.CM)((e=>{this.rolesTable.data=e}))),a.set(this,(0,i.sg)(((e,t)=>{const n=[],{value:o}=t;if(o){const t=e.path;n.push({field:t,desc:"desc"===o})}this.actions.searchRoles({sort:n})})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});var i;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(i=e.onWidgetRootReady)||void 0===i?void 0:i.call(this),(0,s.gn)(this,t,"m",n).call(this),this.rolesTable.columns.forEach((e=>{e.onSortDirectionChange((e=>{(0,s.gn)(this,a,"f").call(this,e.target,e.detail)}))})),(0,s.gn)(this,o,"f").call(this,se(this.state)),this.subscribe((0,s.gn)(this,o,"f").bind(this),se)}))}},o=new WeakMap,a=new WeakMap,t=new WeakSet,n=function(){var e;this.rolesTable=new r.Bf(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="roles-table"]'),{logger:this.logger}),this.rolesTable.onSelectedItemsChange((e=>{this.actions.setSelectedRolesIds(e.detail.value.map((e=>{let{name:t}=e;return t})))}))},l})),_e=(0,i.fc)((e=>class extends((0,i.Zz)(w,P,Be,He,Ne,Ue,Ze,Ge)(e)){init(){const e=Object.create(null,{init:{get:()=>super.init}});var t;return(0,s.sH)(this,void 0,void 0,(function*(){yield null===(t=e.init)||void 0===t?void 0:t.call(this)}))}})),Xe=(0,i.Zz)((e=>class extends(_e(e)){}))(HTMLElement);customElements.define("descope-role-management-widget",Xe)}}]);
//# sourceMappingURL=505.c3a3883c.chunk.js.map