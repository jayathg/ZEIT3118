{"version":3,"file":"static/js/505.c3a3883c.chunk.js","mappings":"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","sources":["../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/loggerMixin/loggerMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/staticResourcesMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/createValidateAttributesMixin/commonValidators.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/initLifecycleMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/observeAttributesMixin/observeAttributesMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/observeAttributesMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/createValidateAttributesMixin/createValidateAttributesMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/projectIdMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/staticResourcesMixin/staticResourcesMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/configMixin/configMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/configMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/debuggerMixin/debuggerMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/descopeUiMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/descopeUiMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/descopeUiMixin/descopeUiMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/initElementMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/modalMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/modalMixin/modalMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/modalMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/notificationsMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/notificationsMixin/notificationsMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/notificationsMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/themeMixin/themeMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/themeMixin/constants.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/themeMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/createStateManagementMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/formMixin.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/debuggerMixin/helpers.ts","../node_modules/@descope/role-management-widget/node_modules/@descope/sdk-mixins/src/mixins/debuggerMixin/debugger-wc.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/selectors.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/helpers.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/createRole.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/deleteRole.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/searchRoles.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/updateRole.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/asyncActions/getTenantPermissions.ts","../node_modules/@descope/role-management-widget/src/lib/widget/state/initialState.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/apiPaths.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/sdk/helpers.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/sdk/createRoleSdk.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/sdk/mocks.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/sdk/createTenantSdk.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/apiMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/api/sdk/index.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/stateManagementMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/fetchWidgetPagesMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initWidgetRootMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initCreateRoleModalMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initCreateRoleButtonMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initDeleteRolesModalMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initDeleteRolesButtonMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initEditRoleModalMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initEditRolesButtonMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initFilterRolesInputMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initNotificationsMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initComponentsMixins/initRolesTableMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/mixins/initMixin/initMixin.ts","../node_modules/@descope/role-management-widget/src/lib/widget/index.ts","../node_modules/@descope/role-management-widget/src/lib/index.ts"],"sourcesContent":["import { createSingletonMixin } from '@descope/sdk-helpers';\nimport { Logger } from './types';\n\nconst logLevels = ['error', 'warn', 'info', 'debug'] as const;\n\nexport type LogLevel = (typeof logLevels)[number];\n\nexport const loggerMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class LoggerMixinClass extends superclass {\n      #logger: Logger = this.#wrapLogger(console);\n\n      #wrapLogger(logger: Partial<Logger>) {\n        return logLevels.reduce((acc, logLevel) => {\n          acc[logLevel] = (...args: any[]) => {\n            this.onLogEvent(logLevel, args);\n            logger[logLevel]?.(...args);\n          };\n\n          return acc;\n        }, {}) as Logger;\n      }\n\n      set logger(logger: Partial<Logger>) {\n        this.#logger = this.#wrapLogger(logger);\n      }\n\n      get logger(): Logger {\n        return this.#logger;\n      }\n\n      // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-unused-vars\n      onLogEvent(logLevel: LogLevel, data: any[]) {}\n    },\n);\n","export const IS_LOCAL_STORAGE = typeof localStorage !== 'undefined';\n","import { IS_LOCAL_STORAGE } from '../../constants';\n\nconst BASE_CONTENT_URL_KEY = 'base.content.url';\n\nexport const BASE_CONTENT_URL =\n  (IS_LOCAL_STORAGE && localStorage.getItem(BASE_CONTENT_URL_KEY)) ||\n  'https://static.descope.com/pages';\n\nexport const ASSETS_FOLDER = 'v2-beta';\nexport const PREV_VER_ASSETS_FOLDER = 'v2-alpha';\n","export const missingAttrValidator = (attrName: string, value: string | null) =>\n  !value && `${attrName} cannot be empty`;\n","import { createSingletonMixin } from '@descope/sdk-helpers';\n\nexport const initLifecycleMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitLifecycleMixinClass extends superclass {\n      #isInit = true;\n\n      connectedCallback() {\n        super.connectedCallback?.();\n\n        if (this.shadowRoot?.isConnected) {\n          // the init function is running once, on the first time the component is connected\n          if (this.#isInit) {\n            this.#isInit = false;\n            this.init();\n          }\n        }\n      }\n\n      // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-empty-function\n      async init() {}\n    },\n);\n","import { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { loggerMixin } from '../loggerMixin';\nimport { attributesObserver } from './helpers';\n\ntype OnAttrChange = (attrName: string, value: string | null) => void;\n\nexport const observeAttributesMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(loggerMixin, initLifecycleMixin)(superclass);\n    return class ObserveAttributesMixinClass extends BaseClass {\n      #observeMappings = {};\n\n      async init() {\n        await super.init?.();\n\n        attributesObserver(this, (attrName: string) => {\n          this.#observeMappings[attrName]?.forEach((cb: OnAttrChange) => {\n            cb(attrName, this.getAttribute(attrName));\n          });\n        });\n      }\n\n      observeAttribute(attrName: string, onAttrChange: OnAttrChange) {\n        if (!this.#observeMappings[attrName]) {\n          this.#observeMappings[attrName] = [];\n        }\n\n        const idx = this.#observeMappings[attrName].push(onAttrChange);\n\n        return () => this.#observeMappings[attrName].splice(idx, 1);\n      }\n\n      observeAttributes(attrs: string[], cb: OnAttrChange) {\n        const unobserveList = attrs.reduce((acc, attrName) => {\n          acc.push(this.observeAttribute(attrName, cb));\n\n          return acc;\n        }, []);\n\n        return () => unobserveList.forEach((unobserve) => unobserve());\n      }\n    };\n  },\n);\n","export const attributesObserver = (\n  ele: HTMLElement,\n  callback: (attrName: string) => void,\n) => {\n  // sync all attrs on init\n  Array.from(ele.attributes).forEach((attr) => callback(attr.name));\n\n  const observer = new MutationObserver((mutationsList) => {\n    mutationsList.forEach((mutation) => {\n      if (mutation.type === 'attributes') {\n        callback(mutation.attributeName);\n      }\n    });\n  });\n\n  observer.observe(ele, { attributes: true });\n};\n","import { compose } from '@descope/sdk-helpers';\nimport { observeAttributesMixin } from '../observeAttributesMixin';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { loggerMixin } from '../loggerMixin';\nimport { missingAttrValidator } from './commonValidators';\n\nconst createValidateAttributesMixin =\n  (mappings: Record<string, CheckValueFn | string>) =>\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      loggerMixin,\n      initLifecycleMixin,\n      observeAttributesMixin,\n    )(superclass);\n    const mappingsNames = Object.keys(mappings);\n\n    return class ValidateAttributesMixinClass extends BaseClass {\n      #handleError(attrName: string, newValue: string | null) {\n        const onError = mappings[attrName];\n\n        const error =\n          typeof onError === 'function' ? onError(attrName, newValue) : onError;\n\n        if (error) {\n          this.logger.error(error);\n        }\n      }\n\n      constructor(...args: any) {\n        super(...args);\n\n        this.observeAttributes(mappingsNames, this.#handleError.bind(this));\n      }\n\n      async init() {\n        await super.init?.();\n\n        // check attributes initial values\n        mappingsNames.forEach((attr) =>\n          this.#handleError(attr, this.getAttribute(attr)),\n        );\n      }\n    };\n  };\n\ncreateValidateAttributesMixin.missingAttrValidator = missingAttrValidator;\n\nexport type CheckValueFn = (\n  attrName: string,\n  value: string | null,\n) => false | string;\n\nexport { createValidateAttributesMixin };\n","import { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { missingAttrValidator } from './createValidateAttributesMixin/commonValidators';\nimport { createValidateAttributesMixin } from './createValidateAttributesMixin';\n\nexport const projectIdMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createValidateAttributesMixin({ 'project-id': missingAttrValidator }),\n    )(superclass);\n\n    return class ProjectIdMixinClass extends BaseClass {\n      get projectId() {\n        return this.getAttribute('project-id');\n      }\n    };\n  },\n);\n","import { pathJoin, compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { loggerMixin } from '../loggerMixin';\nimport { ASSETS_FOLDER, BASE_CONTENT_URL } from './constants';\nimport { projectIdMixin } from '../projectIdMixin';\n\ntype Format = 'text' | 'json';\n\nexport function getResourceUrl(\n  projectId: string,\n  filename: string,\n  assetsFolder = ASSETS_FOLDER,\n) {\n  const url = new URL(BASE_CONTENT_URL);\n  url.pathname = pathJoin(url.pathname, projectId, assetsFolder, filename);\n\n  return url.toString();\n}\n\nexport const staticResourcesMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(loggerMixin, projectIdMixin)(superclass);\n\n    return class StaticResourcesMixinClass extends BaseClass {\n      async fetchStaticResource<F extends Format>(\n        filename: string,\n        format: F,\n      ): Promise<{\n        body: F extends 'json' ? Record<string, any> : string;\n        headers: Record<string, string>;\n      }> {\n        const resourceUrl = getResourceUrl(this.projectId, filename);\n        const res = await fetch(resourceUrl, { cache: 'default' });\n        if (!res.ok) {\n          this.logger.error(\n            `Error fetching URL ${resourceUrl} [${res.status}]`,\n          );\n        }\n\n        return {\n          body: await res[format](),\n          headers: Object.fromEntries(res.headers.entries()),\n        };\n      }\n    };\n  },\n);\n","/* eslint-disable no-underscore-dangle */\nimport { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { staticResourcesMixin } from '../staticResourcesMixin';\nimport { CONFIG_FILENAME } from './constants';\nimport { ProjectConfiguration } from './types';\n\nexport const configMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(staticResourcesMixin)(superclass);\n\n    return class ConfigMixinClass extends BaseClass {\n      get config() {\n        if (!this.#_configResource) {\n          this.#_configResource = this.#fetchConfig();\n        }\n\n        return this.#_configResource;\n      }\n\n      #_configResource;\n\n      #fetchConfig = async () => {\n        try {\n          const { body, headers } = await this.fetchStaticResource(\n            CONFIG_FILENAME,\n            'json',\n          );\n          return {\n            projectConfig: body as ProjectConfiguration,\n            executionContext: { geo: headers['x-geo'] },\n          };\n        } catch (e) {\n          this.logger.error(\n            'Cannot fetch config file',\n            'make sure that your projectId & flowId are correct',\n          );\n        }\n\n        return undefined;\n      };\n    };\n  },\n);\n","export const CONFIG_FILENAME = 'config.json';\n","import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { LogLevel, loggerMixin } from '../loggerMixin';\nimport { DebuggerMessage } from './types';\n\nexport const debuggerMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class DebuggerMixinClass extends compose(\n      initLifecycleMixin,\n      loggerMixin,\n    )(superclass) {\n      #debuggerEle:\n        | (HTMLElement & {\n            updateData: (data: DebuggerMessage | DebuggerMessage[]) => void;\n          })\n        | null;\n\n      #disableDebugger() {\n        this.#debuggerEle?.remove();\n        this.#debuggerEle = null;\n      }\n\n      async #enableDebugger() {\n        this.#debuggerEle = document.createElement(\n          'descope-debugger',\n        ) as HTMLElement & {\n          updateData: (data: DebuggerMessage | DebuggerMessage[]) => void;\n        };\n\n        Object.assign(this.#debuggerEle.style, {\n          position: 'fixed',\n          top: '0',\n          right: '0',\n          height: '100vh',\n          width: '100vw',\n          pointerEvents: 'none',\n          zIndex: 99999,\n        });\n\n        // we are importing the debugger dynamically so we won't load it when it's not needed\n        await import('./debugger-wc');\n\n        document.body.appendChild(this.#debuggerEle);\n      }\n\n      attributeChangedCallback = (\n        attrName: string,\n        oldValue: string | null,\n        newValue: string | null,\n      ) => {\n        super.attributeChangedCallback?.(attrName, oldValue, newValue);\n\n        if (attrName === 'debug') {\n          this.#handleDebugMode();\n        }\n      };\n\n      get debug() {\n        return this.getAttribute('debug') === 'true';\n      }\n\n      #handleDebugMode() {\n        if (this.debug) this.#enableDebugger();\n        else this.#disableDebugger();\n      }\n\n      onLogEvent(logLevel: LogLevel, args: any[]) {\n        super.onLogEvent?.(logLevel, args);\n        if (logLevel === 'error') {\n          this.#updateDebuggerMessages(args[0] || 'Error', args[1]);\n        }\n      }\n\n      async init() {\n        await super.init?.();\n\n        this.#handleDebugMode();\n      }\n\n      #updateDebuggerMessages(title: string, description: string) {\n        if (title) this.#debuggerEle?.updateData({ title, description });\n      }\n    },\n);\n","import { IS_LOCAL_STORAGE } from '../../constants';\n\nexport const DESCOPE_UI_SCRIPT_ID = 'load-descope-ui';\nexport const DESCOPE_UI_FALLBACK_SCRIPT_ID = 'load-descope-ui-fallback-script';\n\nexport const UI_COMPONENTS_URL_KEY = 'base.ui.components.url';\n\nexport const UI_COMPONENTS_URL =\n  (IS_LOCAL_STORAGE && localStorage.getItem(UI_COMPONENTS_URL_KEY)) ||\n  'https://static.descope.com/npm/@descope/web-components-ui@<version>/dist/umd/index.js';\n\nexport const UI_COMPONENTS_FALLBACK_URL =\n  (IS_LOCAL_STORAGE && localStorage.getItem(UI_COMPONENTS_URL_KEY)) ||\n  'https://cdn.jsdelivr.net/npm/@descope/web-components-ui@<version>/dist/umd/index.js';\n\nexport const UI_COMPONENTS_URL_VERSION_PLACEHOLDER = '<version>';\n","import { UI_COMPONENTS_URL_VERSION_PLACEHOLDER } from './constants';\n\nexport const setupScript = (id: string) => {\n  const scriptEle = document.createElement('script');\n  scriptEle.id = id;\n\n  return scriptEle;\n};\n\nexport const generateScriptUrl = (\n  urlTemplate: string,\n  componentsVersion: string,\n) =>\n  urlTemplate.replace(UI_COMPONENTS_URL_VERSION_PLACEHOLDER, componentsVersion);\n\nexport const getDescopeUiComponentsList = (template: HTMLTemplateElement) => [\n  ...Array.from(template.content.querySelectorAll('*')).reduce<Set<string>>(\n    (acc, el: Element) =>\n      el.localName.startsWith('descope-') ? acc.add(el.localName) : acc,\n    new Set(),\n  ),\n];\n","import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { configMixin } from '../configMixin';\nimport { loggerMixin } from '../loggerMixin';\nimport {\n  DESCOPE_UI_FALLBACK_SCRIPT_ID,\n  DESCOPE_UI_SCRIPT_ID,\n  UI_COMPONENTS_FALLBACK_URL,\n  UI_COMPONENTS_URL,\n} from './constants';\nimport {\n  generateScriptUrl,\n  getDescopeUiComponentsList,\n  setupScript,\n} from './helpers';\n\ntype ErrorCb = (error: string) => void;\ntype LoadCb = () => void;\n\nexport const descopeUiMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(loggerMixin, configMixin)(superclass);\n\n    return class DescopeUiMixinClass extends BaseClass {\n      #errorCbsSym = Symbol('errorCbs');\n\n      #loadCbsSym = Symbol('loadCbs');\n\n      // eslint-disable-next-line class-methods-use-this\n      async #getComponentsVersion() {\n        const config = await this.config;\n        const componentsVersion = config?.projectConfig?.componentsVersion;\n\n        if (!componentsVersion) {\n          this.logger.error('Could not get components version');\n        } else {\n          this.logger.debug(`Got component version \"${componentsVersion}\"`);\n        }\n\n        return componentsVersion;\n      }\n\n      // in order to allow only single load of DescopeUI across different instances,\n      // and also allow fallback in case the components cannot be loaded from descope domain\n      // we are managing an alternative way to register to the script events\n      #exposeAlternateEvents(scriptEle: HTMLScriptElement) {\n        const errorCbsSym = this.#errorCbsSym;\n        const loadCbsSym = this.#loadCbsSym;\n\n        // eslint-disable-next-line no-param-reassign\n        scriptEle[errorCbsSym] = [];\n        // eslint-disable-next-line no-param-reassign\n        scriptEle[loadCbsSym] = [];\n\n        Object.defineProperty(scriptEle, 'onerror', {\n          set(cb: ErrorCb) {\n            scriptEle[errorCbsSym].push(cb);\n          },\n        });\n\n        Object.defineProperty(scriptEle, 'onload', {\n          set(cb: LoadCb) {\n            scriptEle[loadCbsSym].push(cb);\n          },\n        });\n      }\n\n      async #handleFallbackScript(errorCbs: ErrorCb[], loadCbs: LoadCb[]) {\n        this.logger.debug('Trying to load DescopeUI from a fallback URL');\n        const fallbackScriptEle = setupScript(DESCOPE_UI_FALLBACK_SCRIPT_ID);\n        document.body.append(fallbackScriptEle);\n\n        fallbackScriptEle.addEventListener('error', () => {\n          errorCbs.forEach((cb: ErrorCb) =>\n            cb(\n              `Cannot load DescopeUI from fallback URL, Make sure this URL is valid and return the correct script: \"${fallbackScriptEle.src}\"`,\n            ),\n          );\n        });\n\n        fallbackScriptEle.addEventListener('load', () => {\n          loadCbs.forEach((cb: LoadCb) => cb());\n        });\n\n        fallbackScriptEle.src = generateScriptUrl(\n          UI_COMPONENTS_FALLBACK_URL,\n          await this.#getComponentsVersion(),\n        );\n      }\n\n      #registerEvents(scriptEle: HTMLScriptElement) {\n        scriptEle.addEventListener('error', () => {\n          scriptEle[this.#errorCbsSym].forEach((cb: ErrorCb) =>\n            cb(\n              `Cannot load DescopeUI from main URL, Make sure this URL is valid and return the correct script: \"${scriptEle.src}\"`,\n            ),\n          );\n\n          // in case we could not load DescopeUI from the main URL, we are trying to load it from a fallback URL\n          this.#handleFallbackScript(\n            scriptEle[this.#errorCbsSym],\n            scriptEle[this.#loadCbsSym],\n          );\n        });\n\n        scriptEle.addEventListener('load', () => {\n          scriptEle[this.#loadCbsSym].forEach((cb: LoadCb) => cb());\n        });\n      }\n\n      async #getDescopeUiLoadingScript() {\n        if (!document.querySelector(`script#${DESCOPE_UI_SCRIPT_ID}`)) {\n          this.logger.debug(\n            'DescopeUI loading script does not exist, creating it',\n            this,\n          );\n\n          const scriptEle = setupScript(DESCOPE_UI_SCRIPT_ID);\n\n          document.body.append(scriptEle);\n\n          this.#exposeAlternateEvents(scriptEle);\n          this.#registerEvents(scriptEle);\n\n          scriptEle.src = generateScriptUrl(\n            UI_COMPONENTS_URL,\n            await this.#getComponentsVersion(),\n          );\n        } else {\n          this.logger.debug('DescopeUI loading script already exists', this);\n        }\n\n        return document.getElementById(DESCOPE_UI_SCRIPT_ID);\n      }\n\n      #descopeUi: Promise<any>;\n\n      get descopeUi() {\n        if (!this.#descopeUi) {\n          this.#descopeUi = this.#getDescopeUi();\n        }\n\n        return this.#descopeUi;\n      }\n\n      async #loadDescopeUiComponent(componentName: string) {\n        const isComponentAlreadyDefined = !!customElements.get(componentName);\n\n        if (isComponentAlreadyDefined) {\n          this.logger.debug(\n            `Loading component \"${componentName}\" is skipped as it is already defined`,\n          );\n          return undefined;\n        }\n\n        const descopeUI = await this.descopeUi;\n\n        if (!descopeUI[componentName]) {\n          this.logger.error(\n            `Cannot load UI component \"${componentName}\"`,\n            `Descope UI does not have a component named \"${componentName}\", available components are: \"${Object.keys(\n              descopeUI,\n            ).join(', ')}\"`,\n          );\n          return undefined;\n        }\n\n        try {\n          // eslint-disable-next-line @typescript-eslint/return-await\n          return await descopeUI[componentName]();\n        } catch (e) {\n          // this error is thrown when trying to register a component which is already registered\n          // when running 2 flows on the same page, it might happen that the register fn is called twice\n          // in case it happens, we are silently ignore the error\n          if (e.name === 'NotSupportedError') {\n            // eslint-disable-next-line no-console\n            console.debug(\n              `Encountered an error while attempting to define the \"${componentName}\" component, it is likely that this component is already defined`,\n            );\n          } else {\n            throw e;\n          }\n        }\n\n        return undefined;\n      }\n\n      async loadDescopeUiComponents(\n        templateOrComponentNames: HTMLTemplateElement | string[],\n      ) {\n        const descopeUiComponentsList = Array.isArray(templateOrComponentNames)\n          ? templateOrComponentNames\n          : getDescopeUiComponentsList(templateOrComponentNames);\n\n        return Promise.all(\n          descopeUiComponentsList.map((componentName: string) =>\n            this.#loadDescopeUiComponent(componentName),\n          ),\n        );\n      }\n\n      #getDescopeUi() {\n        return new Promise((res) => {\n          if (globalThis.DescopeUI) {\n            res(globalThis.DescopeUI);\n          }\n\n          this.#getDescopeUiLoadingScript().then((scriptEle) => {\n            // eslint-disable-next-line no-param-reassign\n            scriptEle!.onerror = this.logger.error;\n            // eslint-disable-next-line no-param-reassign\n            scriptEle!.onload = () => {\n              this.logger.debug('DescopeUI was loaded');\n              res(globalThis.DescopeUI);\n            };\n\n            // in case the load event was dispatched before we registered, we have a fallback\n            setTimeout(() => {\n              if (globalThis.DescopeUI) {\n                res(globalThis.DescopeUI);\n              }\n            });\n          });\n        });\n      }\n    };\n  },\n);\n","import { createSingletonMixin } from '@descope/sdk-helpers';\n\nconst CONTENT_ROOT_ID = 'content-root';\nconst ROOT_ID = 'root';\n\nexport const initElementMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitElementMixinClass extends superclass {\n      // the content of contentRootElement is being replaced dynamically\n      // do not place content which is not dynamic inside\n      contentRootElement: HTMLElement;\n\n      rootElement: HTMLElement;\n\n      constructor(...rest) {\n        super(...rest);\n\n        this.attachShadow({ mode: 'open' }).innerHTML = `\n\n          <style>\n            #${ROOT_ID}, #${CONTENT_ROOT_ID} {\n              height: 100%;\n            }\n            #${ROOT_ID} {\n              position: relative;\n              height: fit-content;\n            }\n          </style>\n          <div id=\"${ROOT_ID}\">\n            <div id=\"${CONTENT_ROOT_ID}\"></div>\n          </div>\n          `;\n\n        this.contentRootElement =\n          this.shadowRoot?.getElementById(CONTENT_ROOT_ID)!;\n        this.rootElement = this.shadowRoot?.getElementById(ROOT_ID)!;\n      }\n    },\n);\n","export const MODAL_ELE_TAG = 'descope-modal';\n","// eslint-disable-next-line max-classes-per-file\nimport { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { initElementMixin } from '../initElementMixin';\nimport { descopeUiMixin } from '../descopeUiMixin';\nimport { createModalEle } from './helpers';\nimport { MODAL_ELE_TAG } from './constants';\nimport { ModalDriver } from '@descope/sdk-component-drivers';\n\nexport const modalMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      initLifecycleMixin,\n      initElementMixin,\n      descopeUiMixin,\n    )(superclass);\n    return class ModalMixinClass extends BaseClass {\n      #ModalDriverWrapper = (() => {\n        const loadDescopeUiComponents = this.loadDescopeUiComponents.bind(this);\n        return class ModalDriverWrapper extends ModalDriver {\n          setContent(template: HTMLTemplateElement) {\n            loadDescopeUiComponents(template);\n            super.setContent(template);\n          }\n        };\n      })();\n\n      createModal(config?: Record<string, string>) {\n        const baseConfig = {};\n\n        const modal = createModalEle({\n          ...baseConfig,\n          ...config,\n        });\n\n        this.rootElement.append(modal);\n\n        return new this.#ModalDriverWrapper(modal, {\n          logger: this.logger,\n        }) as ModalDriver;\n      }\n\n      async init() {\n        this.loadDescopeUiComponents([MODAL_ELE_TAG]);\n        await super.init?.();\n      }\n    };\n  },\n);\n","import { MODAL_ELE_TAG } from './constants';\n\nexport const createModalEle = (config = {}) => {\n  const modal = document.createElement(MODAL_ELE_TAG);\n  Object.keys(config).forEach((key) => {\n    modal.setAttribute(key, config[key]);\n  });\n\n  return modal;\n};\n","export const NOTIFICATION_ELE_TAG = 'descope-notification';\n","// eslint-disable-next-line max-classes-per-file\nimport {\n  createSingletonMixin,\n  compose,\n  createTemplate,\n} from '@descope/sdk-helpers';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { initElementMixin } from '../initElementMixin';\nimport { descopeUiMixin } from '../descopeUiMixin';\nimport { createNotificationEle } from './helpers';\nimport { NOTIFICATION_ELE_TAG } from './constants';\nimport { NotificationDriver } from '@descope/sdk-component-drivers';\n\nexport const notificationsMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      initLifecycleMixin,\n      initElementMixin,\n      descopeUiMixin,\n    )(superclass);\n    return class NotificationsMixinClass extends BaseClass {\n      #NotificationDriverWrapper = (() => {\n        const loadDescopeUiComponents = this.loadDescopeUiComponents.bind(this);\n        return class NotificationDriverWrapper extends NotificationDriver {\n          setContent(templateOrString: HTMLTemplateElement | string) {\n            const template =\n              typeof templateOrString === 'string'\n                ? createTemplate(templateOrString)\n                : templateOrString;\n\n            loadDescopeUiComponents(template);\n            super.setContent(template);\n          }\n        };\n      })();\n\n      createNotification(\n        config?: {\n          mode: 'success' | 'error';\n          duration: number;\n          'has-close-button'?: boolean;\n          position?:\n            | 'top-stretch'\n            | 'top-start'\n            | 'top-center'\n            | 'top-end'\n            | 'middle'\n            | 'bottom-start'\n            | 'bottom-center'\n            | 'bottom-end'\n            | 'bottom-stretch';\n          size: 'xs' | 'sm' | 'md' | 'lg';\n          bordered?: boolean;\n        } & {\n          [key: string]: string | boolean | number;\n        },\n      ) {\n        const baseConfig = {};\n\n        const notification = createNotificationEle({\n          ...baseConfig,\n          ...config,\n        });\n\n        this.rootElement.append(notification);\n\n        return new this.#NotificationDriverWrapper(notification, {\n          logger: this.logger,\n        });\n      }\n\n      async init() {\n        await super.init?.();\n        this.loadDescopeUiComponents([NOTIFICATION_ELE_TAG]);\n      }\n    };\n  },\n);\n","import { NOTIFICATION_ELE_TAG } from './constants';\n\nexport const createNotificationEle = (config = {}) => {\n  const notification = document.createElement(NOTIFICATION_ELE_TAG);\n  Object.keys(config).forEach((key) => {\n    notification.setAttribute(key, config[key]);\n  });\n\n  return notification;\n};\n","/* eslint-disable no-underscore-dangle */\nimport { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { configMixin } from '../configMixin';\nimport { createValidateAttributesMixin } from '../createValidateAttributesMixin';\nimport { descopeUiMixin } from '../descopeUiMixin';\nimport { initElementMixin } from '../initElementMixin';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { staticResourcesMixin } from '../staticResourcesMixin';\nimport { THEME_FILENAME } from './constants';\nimport { loadFont } from './helpers';\nimport { observeAttributesMixin } from '../observeAttributesMixin';\n\nconst themeValidation = (_: string, theme: string | null) =>\n  (theme || false) &&\n  theme !== 'light' &&\n  theme !== 'dark' &&\n  'Supported theme values are \"light\", \"dark\", or leave empty for using the OS theme';\n\nexport type ThemeOptions = 'light' | 'dark' | 'os';\n\nexport const themeMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createValidateAttributesMixin({ theme: themeValidation }),\n      staticResourcesMixin,\n      initLifecycleMixin,\n      descopeUiMixin,\n      configMixin,\n      initElementMixin,\n      observeAttributesMixin,\n    )(superclass);\n\n    return class ThemeMixinClass extends BaseClass {\n      get theme(): ThemeOptions {\n        const theme = this.getAttribute('theme') as ThemeOptions | null;\n\n        if (theme === 'os') {\n          const isOsDark =\n            window.matchMedia &&\n            window.matchMedia?.('(prefers-color-scheme: dark)')?.matches;\n\n          return isOsDark ? 'dark' : 'light';\n        }\n\n        return theme || 'light';\n      }\n\n      #_themeResource: Promise<void | Record<string, any>>;\n\n      async #fetchTheme() {\n        try {\n          const { body } = await this.fetchStaticResource(\n            THEME_FILENAME,\n            'json',\n          );\n\n          return body;\n        } catch (e) {\n          this.logger.error(\n            'Cannot fetch theme file',\n            'make sure that your projectId & flowId are correct',\n          );\n        }\n\n        return undefined;\n      }\n\n      get #themeResource() {\n        if (!this.#_themeResource) {\n          this.#_themeResource = this.#fetchTheme();\n          this.#_themeResource.then((theme) =>\n            this.logger.debug('Fetched theme', theme),\n          );\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        return this.#_themeResource;\n      }\n\n      async #loadGlobalStyle() {\n        const theme = await this.#themeResource;\n        if (!theme) return;\n\n        const styleEle = document.createElement('style');\n        styleEle.innerText =\n          (theme?.light?.globals || '') + (theme?.dark?.globals || '');\n\n        this.shadowRoot!.appendChild(styleEle);\n      }\n\n      async #loadComponentsStyle() {\n        const theme = { ...(await this.#themeResource) } as Record<string, any>;\n        if (!theme) return;\n\n        const descopeUi = await this.descopeUi;\n        if (descopeUi?.componentsThemeManager) {\n          descopeUi.componentsThemeManager.themes = {\n            light: theme?.light?.components,\n            dark: theme?.dark?.components,\n          };\n        }\n      }\n\n      async #loadFonts() {\n        const { projectConfig } = await this.config;\n        const fonts: Record<string, { url?: string }> | undefined =\n          projectConfig?.cssTemplate?.[this.theme]?.fonts;\n        if (fonts) {\n          Object.values(fonts).forEach((font) => {\n            if (font.url) {\n              this.logger.debug(`Loading font from URL \"${font.url}\"`);\n              loadFont(font.url);\n            }\n          });\n        }\n      }\n\n      async #applyTheme() {\n        this.rootElement.setAttribute('data-theme', this.theme);\n        const descopeUi = await this.descopeUi;\n        if (descopeUi?.componentsThemeManager) {\n          descopeUi.componentsThemeManager.currentThemeName = this.theme;\n        }\n      }\n\n      async init() {\n        await super.init?.();\n\n        this.#loadGlobalStyle();\n        this.#loadComponentsStyle();\n        this.#loadFonts();\n        this.#applyTheme();\n\n        this.observeAttributes(['theme'], () => {\n          this.#loadFonts();\n          this.#applyTheme();\n        });\n      }\n    };\n  },\n);\n","// Those files are saved on a new folder to prevent breaking changes\nexport const THEME_FILENAME = 'theme.json';\nexport const CONFIG_FILENAME = 'config.json';\n","export const loadFont = (url: string) => {\n  const font = document.createElement('link');\n  font.href = url;\n  font.rel = 'stylesheet';\n  document.head.appendChild(font);\n};\n","/* eslint-disable no-param-reassign */\nimport { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport type {\n  CreateSliceOptions,\n  Draft,\n  SliceCaseReducers,\n  SliceSelectors,\n} from '@reduxjs/toolkit';\nimport { configureStore, createSlice, unwrapResult } from '@reduxjs/toolkit';\nimport type { Unsubscribe } from 'redux'; //  workaround for https://github.com/microsoft/TypeScript/issues/42873\nimport { loggerMixin } from './loggerMixin';\n\nexport const createStateManagementMixin = <\n  State,\n  CaseReducers extends SliceCaseReducers<State>,\n  Name extends string,\n  Selectors extends SliceSelectors<State>,\n  ReducerPath extends string = Name,\n  AsyncActions extends Record<string, any> = {},\n>(\n  options: CreateSliceOptions<\n    State,\n    CaseReducers,\n    Name,\n    ReducerPath,\n    Selectors\n  > & { asyncActions?: AsyncActions },\n) =>\n  createSingletonMixin(<T extends CustomElementConstructor>(superclass: T) => {\n    const slice = createSlice(options);\n\n    const allActions = { ...slice.actions, ...options.asyncActions };\n\n    return class StateManagementMixinClass extends compose(loggerMixin)(\n      superclass,\n    ) {\n      actions: typeof allActions;\n\n      subscribe: <SelectorR = State extends Draft<infer S> ? S : State>(\n        cb: (state: SelectorR) => void,\n        selector?: (state: State) => SelectorR,\n      ) => Unsubscribe;\n\n      constructor(...args: any) {\n        super(...args);\n\n        const store = configureStore({\n          reducer: slice.reducer,\n          middleware: (getDefaultMiddleware) =>\n            getDefaultMiddleware({\n              thunk: {\n                extraArgument: this,\n              },\n              serializableCheck: false,\n            }),\n          // change to true if we want to debug redux\n          devTools: false,\n        });\n\n        const wrapAction = <F extends (...args: any[]) => any>(action: F) =>\n          (async (...arg: any[]) => {\n            const result = await store.dispatch(action(...arg));\n\n            // we want to unwrap the result, so in case of an error we can log it\n            try {\n              unwrapResult(result);\n            } catch (e) {\n              this.logger.error(e.message, result.type, e.stack);\n            }\n\n            return result;\n          }) as F;\n\n        const actions = Object.keys(allActions).reduce((acc, actionName) => {\n          acc[actionName] = wrapAction(allActions[actionName]);\n\n          return acc;\n        }, {}) as typeof slice.actions & typeof options.asyncActions;\n\n        this.actions = actions;\n\n        this.subscribe = (cb, selector = (state) => state as any) =>\n          store.subscribe(() => cb(selector(store.getState())));\n      }\n    };\n  });\n","import { createSingletonMixin } from '@descope/sdk-helpers';\nimport { loggerMixin } from './loggerMixin';\n\ntype ElementOrEmpty = Element | null | undefined;\n\nexport const formMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class FormMixinClass extends loggerMixin(superclass) {\n      validateForm(rootEle: ElementOrEmpty) {\n        return this.getFormInputs(rootEle).every((input: HTMLInputElement) => {\n          input.reportValidity?.();\n          return input.checkValidity?.();\n        });\n      }\n\n      // eslint-disable-next-line class-methods-use-this\n      getFormInputs(rootEle: ElementOrEmpty): HTMLInputElement[] {\n        if (!rootEle) {\n          this.logger.debug(\n            'cannot get form inputs, no root element was received',\n          );\n          return [];\n        }\n        return Array.from(\n          rootEle.querySelectorAll('[name]'),\n        ) as HTMLInputElement[];\n      }\n\n      getFormData(rootEle: ElementOrEmpty): any {\n        return this.getFormInputs(rootEle).reduce(\n          (acc, input) =>\n            Object.assign(acc, { [input.getAttribute('name')!]: input.value }),\n          {},\n        );\n      }\n\n      setFormData(rootEle: ElementOrEmpty, data: Record<string, any>) {\n        this.getFormInputs(rootEle).forEach((input) => {\n          // eslint-disable-next-line no-prototype-builtins\n          if (data.hasOwnProperty(input.getAttribute('name')!)) {\n            // eslint-disable-next-line no-param-reassign\n            input.value = data[input.getAttribute('name')!];\n          }\n        });\n      }\n\n      resetFormData(rootEle: ElementOrEmpty) {\n        this.getFormInputs(rootEle).forEach((input) => {\n          // eslint-disable-next-line no-param-reassign\n          input.value = '';\n          input.checked = false;\n        });\n      }\n\n      getFormFieldNames(rootEle: ElementOrEmpty) {\n        return this.getFormInputs(rootEle).map((ele) => ele.name);\n      }\n\n      disableFormField(rootEle: ElementOrEmpty, name: string) {\n        this.getFormInputs(rootEle)\n          .find((input) => input.name === name)\n          ?.setAttribute('disabled', 'true');\n      }\n\n      removeFormField(rootEle: ElementOrEmpty, name: string) {\n        this.getFormInputs(rootEle)\n          .find((input) => input.name === name)\n          ?.remove();\n      }\n    },\n);\n","import { Boundaries } from './types';\n\ntype Target = {\n  w: number;\n  h: number;\n  offsetWidth: number;\n  offsetHeight: number;\n};\n\nexport const limitCoordinateToScreenBoundaries = (\n  ele: HTMLElement,\n  x: number,\n  y: number,\n  boundaries: Boundaries = {},\n) => [\n  Math.min(\n    Math.max(\n      x,\n      (boundaries.left === 'all' ? ele.offsetWidth : boundaries.left ?? 0) -\n        ele.offsetWidth,\n    ),\n    window.innerWidth -\n      (boundaries.right === 'all' ? ele.offsetWidth : boundaries.right ?? 0),\n  ),\n  Math.min(\n    Math.max(\n      y,\n      (boundaries.top === 'all' ? ele.offsetHeight : boundaries.top ?? 0) -\n        ele.offsetHeight,\n    ),\n    window.innerHeight -\n      (boundaries.bottom === 'all' ? ele.offsetHeight : boundaries.bottom ?? 0),\n  ),\n];\n\nexport const dragElement = (\n  ele: HTMLElement,\n  triggerEle?: HTMLElement,\n  keepVisible?: Boundaries,\n) => {\n  let deltaX = 0;\n  let deltaY = 0;\n  let currentX = 0;\n  let currentY = 0;\n\n  function elementDrag(e: MouseEvent) {\n    e.preventDefault();\n    // calculate the new cursor position:\n    deltaX = currentX - e.clientX;\n    deltaY = currentY - e.clientY;\n    currentX = e.clientX;\n    currentY = e.clientY;\n    // set the element's new position:\n    const [left, top] = limitCoordinateToScreenBoundaries(\n      ele,\n      ele.offsetLeft - deltaX,\n      ele.offsetTop - deltaY,\n      keepVisible,\n    );\n    // eslint-disable-next-line no-param-reassign\n    ele.style.top = `${top}px`;\n    // eslint-disable-next-line no-param-reassign\n    ele.style.left = `${left}px`;\n  }\n\n  function closeDragElement() {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n\n  function dragMouseDown(e: MouseEvent) {\n    e.preventDefault();\n    // get the mouse cursor position at startup:\n    currentX = e.clientX;\n    currentY = e.clientY;\n    document.onmouseup = closeDragElement;\n    // call a function whenever the cursor moves:\n    document.onmousemove = elementDrag;\n  }\n\n  if (triggerEle) {\n    // if provided, the triggerEle is where you move the div from\n    // eslint-disable-next-line no-param-reassign\n    triggerEle.onmousedown = dragMouseDown;\n  } else {\n    // otherwise, move the DIV from anywhere inside the DIV:\n\n    // eslint-disable-next-line no-param-reassign\n    ele.onmousedown = dragMouseDown;\n  }\n};\n\nexport const addOnResize = (ele: HTMLElement) => {\n  // eslint-disable-next-line no-param-reassign\n  ele.onmousemove = (e) => {\n    // eslint-disable-next-line prefer-destructuring\n    const target: Target = e.target! as EventTarget & Target;\n    if (\n      (target.w && target.w !== target.offsetWidth) ||\n      (target.h && target.h !== target.offsetHeight)\n    ) {\n      ele.onresize?.(e);\n    }\n    target.w = target.offsetWidth;\n    target.h = target.offsetHeight;\n  };\n};\n","/* eslint-disable no-param-reassign */\nimport { State } from '@descope/sdk-helpers';\nimport {\n  addOnResize,\n  dragElement,\n  limitCoordinateToScreenBoundaries,\n} from './helpers';\nimport { DebuggerMessage } from './types';\n\nconst INITIAL_POS_THRESHOLD = 32;\nconst INITIAL_WIDTH = 300;\nconst INITIAL_HEIGHT = 200;\nconst MIN_SIZE = 200;\n\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n<style>\n  .debugger {\n    width: ${INITIAL_WIDTH}px;\n    height: ${INITIAL_HEIGHT}px;\n    background-color: #FAFAFA;\n    position: fixed;\n    font-family: \"Helvetica Neue\", sans-serif;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 10px;\n    border-radius: 8px;\n    overflow: hidden;\n    border: 1px solid lightgrey;\n    pointer-events: initial;\n    display: flex;\n    flex-direction: column;\n    min-width: ${MIN_SIZE}px;\n    max-width: 600px;\n    max-height: calc(100% - ${INITIAL_POS_THRESHOLD * 2}px);\n    min-height: ${MIN_SIZE}px;\n    resize: both;\n  }\n\n  .header {\n    padding: 8px 16px;\n    display: flex;\n    align-items: center;\n    background-color: #EEEEEE;\n    cursor: move;\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  .content {\n    font-size: 14px;\n    flex-grow: 1;\n    overflow: auto;\n  }\n\n  .msg {\n    border-bottom: 1px solid lightgrey;\n    padding: 8px 16px;\n    display: flex;\n    gap: 5px;\n    background-color: #FAFAFA;\n  }\n\n  .msg.collapsible {\n    cursor: pointer;\n  }\n\n  .empty-state {\n    padding: 8px 16px;\n    background-color: #FAFAFA;\n  }\n\n\n  .msg.collapsible:not(.collapsed) {\n    background-color: #F5F5F5;\n  }\n\n  .msg_title {\n    padding-bottom: 5px;\n    display: flex;\n    gap: 8px;\n    font-weight: 500;\n  }\n\n  .msg svg {\n    padding: 1px;\n    flex-shrink: 0;\n    margin-top: -2px;\n  }\n\n  .msg_content {\n    overflow: hidden;\n    flex-grow: 1;\n    margin-right:5px;\n  }\n\n  .msg_desc {\n    color: #646464;\n    cursor: initial;\n    word-wrap: break-word;\n  }\n\n  .msg.collapsed .msg_desc {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .msg.collapsible.collapsed .chevron {\n    transform: rotate(-45deg) translateX(-2px);\n  }\n\n  .msg.collapsible .chevron {\n    content: \"\";\n    width:6px;\n    height:6px;\n    border-bottom: 2px solid grey;\n    border-right: 2px solid grey;\n    transform: rotate(45deg) translateX(-1px);\n    margin: 5px;\n    flex-shrink:0;\n  }\n</style>\n\n<div style=\"top:${INITIAL_POS_THRESHOLD}px; left:${\n  window.innerWidth - INITIAL_WIDTH - INITIAL_POS_THRESHOLD\n}px;\" class=\"debugger\">\n  <div class=\"header\">\n    <span>Debugger messages</span>\n  </div>\n  <div class=\"content\">\n    <div class=\"empty-state\">\n      No errors detected \n    </div>\n  </div>\n</div>\n`;\n\nconst icon = `<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5.99984 13.167L8.99984 10.167L11.9998 13.167L13.1665 12.0003L10.1665 9.00033L13.1665 6.00033L11.9998 4.83366L8.99984 7.83366L5.99984 4.83366L4.83317 6.00033L7.83317 9.00033L4.83317 12.0003L5.99984 13.167ZM8.99984 17.3337C7.84706 17.3337 6.76373 17.1148 5.74984 16.677C4.73595 16.2398 3.854 15.6462 3.104 14.8962C2.354 14.1462 1.76039 13.2642 1.32317 12.2503C0.885393 11.2364 0.666504 10.1531 0.666504 9.00033C0.666504 7.84755 0.885393 6.76421 1.32317 5.75033C1.76039 4.73644 2.354 3.85449 3.104 3.10449C3.854 2.35449 4.73595 1.7606 5.74984 1.32283C6.76373 0.885603 7.84706 0.666992 8.99984 0.666992C10.1526 0.666992 11.2359 0.885603 12.2498 1.32283C13.2637 1.7606 14.1457 2.35449 14.8957 3.10449C15.6457 3.85449 16.2393 4.73644 16.6765 5.75033C17.1143 6.76421 17.3332 7.84755 17.3332 9.00033C17.3332 10.1531 17.1143 11.2364 16.6765 12.2503C16.2393 13.2642 15.6457 14.1462 14.8957 14.8962C14.1457 15.6462 13.2637 16.2398 12.2498 16.677C11.2359 17.1148 10.1526 17.3337 8.99984 17.3337ZM8.99984 15.667C10.8609 15.667 12.4373 15.0212 13.729 13.7295C15.0207 12.4378 15.6665 10.8614 15.6665 9.00033C15.6665 7.13921 15.0207 5.56283 13.729 4.27116C12.4373 2.97949 10.8609 2.33366 8.99984 2.33366C7.13873 2.33366 5.56234 2.97949 4.27067 4.27116C2.979 5.56283 2.33317 7.13921 2.33317 9.00033C2.33317 10.8614 2.979 12.4378 4.27067 13.7295C5.56234 15.0212 7.13873 15.667 8.99984 15.667Z\" fill=\"#ED404A\"/>\n</svg>\n`;\n\ntype MessagesState = { messages: DebuggerMessage[] };\n\nclass Debugger extends HTMLElement {\n  #messagesState = new State<MessagesState>({ messages: [] });\n\n  #rootEle: HTMLDivElement;\n\n  #contentEle: HTMLDivElement;\n\n  #headerEle: HTMLDivElement;\n\n  #eventsCbRefs = {\n    resize: this.#onWindowResize.bind(this),\n  };\n\n  constructor() {\n    super();\n\n    this.attachShadow({ mode: 'open' });\n    this.shadowRoot?.appendChild(template.content.cloneNode(true));\n\n    this.#rootEle =\n      this.shadowRoot!.querySelector<HTMLDivElement>('.debugger')!;\n    this.#contentEle = this.#rootEle.querySelector<HTMLDivElement>('.content')!;\n    this.#headerEle = this.#rootEle.querySelector<HTMLDivElement>('.header')!;\n  }\n\n  updateData(data: DebuggerMessage | DebuggerMessage[]) {\n    this.#messagesState.update((state) => ({\n      messages: state.messages.concat(data),\n    }));\n  }\n\n  #onNewMessages(data: MessagesState) {\n    this.#renderMessages(data);\n    this.#setCollapsibleMessages();\n  }\n\n  #renderMessages(data: MessagesState) {\n    this.#contentEle.innerHTML = data.messages\n      .map(\n        (message) => `\n    <div class=\"msg\">\n      ${icon}\n      <div class=\"msg_content\">\n        <div class=\"msg_title\">\n          ${message.title}\n        </div>\n        <div class=\"msg_desc\">\n          ${message.description || ''}\n        </div>\n      </div>\n      <div class=\"chevron\"></div>\n    </div>\n  `,\n      )\n      .join('');\n  }\n\n  #setCollapsibleMessages() {\n    this.#contentEle.querySelectorAll('.msg').forEach((element: Element) => {\n      const ele = element as HTMLElement;\n      const descEle = ele.querySelector('.msg_desc');\n      const lineHeight = 20;\n      const isScroll = descEle!.scrollWidth > descEle!.clientWidth;\n      const isMultiLine = descEle!.clientHeight > lineHeight;\n      const isCollapsible = isScroll || isMultiLine;\n\n      if (isCollapsible) {\n        ele.classList.add('collapsible');\n        ele.onclick = (e: MouseEvent) => {\n          // message description should not toggle collapse\n          if (!(e.target as HTMLElement).classList.contains('msg_desc')) {\n            ele.classList.toggle('collapsed');\n          }\n        };\n      } else {\n        ele.classList.remove('collapsible');\n        ele.onclick = null;\n      }\n    });\n  }\n\n  #onWindowResize() {\n    // when window is resizing we want to make sure debugger is still visible\n    const [left, top] = limitCoordinateToScreenBoundaries(\n      this.#rootEle,\n      Number.parseInt(this.#rootEle.style.left, 10),\n      Number.parseInt(this.#rootEle.style.top, 10),\n      { top: 'all', bottom: 100, left: 100, right: 100 },\n    );\n    this.#rootEle.style.top = `${top}px`;\n    this.#rootEle.style.left = `${left}px`;\n  }\n\n  connectedCallback() {\n    dragElement(this.#rootEle, this.#headerEle, {\n      top: 'all',\n      bottom: 100,\n      left: 100,\n      right: 100,\n    });\n\n    window.addEventListener('resize', this.#eventsCbRefs.resize);\n\n    addOnResize(this.#rootEle);\n    this.#rootEle.onresize = this.#setCollapsibleMessages.bind(this);\n\n    this.#messagesState.subscribe(this.#onNewMessages.bind(this));\n  }\n\n  disconnectedCallback() {\n    this.#messagesState.unsubscribeAll();\n    window.removeEventListener('resize', this.#eventsCbRefs.resize);\n  }\n}\n\nif (!customElements.get('descope-debugger')) {\n  customElements.define('descope-debugger', Debugger);\n}\n\nexport default Debugger;\n","import { createSelector } from 'reselect';\nimport { State } from './types';\n\nexport const getRawRolesList = (state: State) => state.rolesList.data;\nexport const getSelectedRolesIds = (state: State) => state.selectedRolesIds;\nexport const getNotifications = (state: State) => state.notifications;\nexport const getSearchParams = (state: State) => state.searchParams;\nexport const getTenantPermissions = (state: State) =>\n  state.tenantPermissions.data || [];\n\nexport const getRolesList = createSelector(getRawRolesList, (roles) =>\n  roles.map((role) => ({\n    ...role,\n    editable: role?.tenantId?.length === 0 ? 'no' : 'yes',\n  })),\n);\n\nexport const getSelectedRoles = createSelector(\n  getSelectedRolesIds,\n  getRolesList,\n  (selected, roles) => roles.filter((role) => selected.includes(role.name)),\n);\n\nexport const getIsRolesSelected = createSelector(\n  getSelectedRolesIds,\n  (selected) => !!selected.length,\n);\n\nexport const getIsSingleRolesSelected = createSelector(\n  getSelectedRolesIds,\n  (selected) => selected.length === 1,\n);\n\nexport const getSelectedRolesDetailsForDisplay = createSelector(\n  getSelectedRoles,\n  (selectedRoles) => {\n    if (selectedRoles.length === 1) {\n      return selectedRoles[0].name;\n    }\n    return `${selectedRoles.length} roles`;\n  },\n);\n","/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable no-param-reassign */\n\nimport {\n  ActionReducerMapBuilder,\n  AsyncThunk,\n  PayloadAction,\n  SerializedError,\n} from '@reduxjs/toolkit';\nimport { State } from '../types';\n\ntype ExtractedArg<T> = T extends AsyncThunk<any, infer U, any> ? U : never;\n\ntype FulfilledAction<T extends AsyncThunk<any, any, any>> = PayloadAction<\n  any,\n  string,\n  {\n    arg: ExtractedArg<T>;\n    requestId: string;\n  },\n  never\n>;\n\ntype RejectedAction<T extends AsyncThunk<any, any, any>> = PayloadAction<\n  any,\n  string,\n  {\n    arg: ExtractedArg<T>;\n    requestId: string;\n  },\n  SerializedError\n>;\n\ntype PendingAction<T extends AsyncThunk<any, any, any>> = PayloadAction<\n  unknown,\n  string,\n  {\n    arg: ExtractedArg<T>;\n    requestId: string;\n  }\n>;\n\ntype AsyncReducerConfig<T extends AsyncThunk<any, any, any>> = {\n  onFulfilled?: (state: State, action: FulfilledAction<T>) => void;\n  onRejected?: (state: State, action: RejectedAction<T>) => void;\n  onPending?: (state: State, action: PendingAction<T>) => void;\n};\n\nexport const buildAsyncReducer =\n  <T extends AsyncThunk<any, any, any>>(action: T) =>\n  (...args: AsyncReducerConfig<T>[]) =>\n  (builder: ActionReducerMapBuilder<State>) => {\n    builder.addCase(action.pending, (state, action) => {\n      args.forEach(({ onPending }) => {\n        onPending?.(state, action);\n      });\n    });\n\n    builder.addCase(action.fulfilled, (state, action) => {\n      args.forEach(({ onFulfilled }) => {\n        onFulfilled?.(state, action);\n      });\n    });\n\n    builder.addCase(action.rejected, (state, action) => {\n      args.forEach(({ onRejected }) => {\n        onRejected?.(state, action);\n      });\n    });\n  };\n\nexport const withRequestStatus = (\n  getStateSection: (state: State) => { loading: boolean; error: unknown },\n): AsyncReducerConfig<any> => ({\n  onFulfilled: (state) => {\n    getStateSection(state).loading = false;\n  },\n  onPending: (state) => {\n    getStateSection(state).loading = true;\n    getStateSection(state).error = null;\n  },\n  onRejected: (state, action) => {\n    getStateSection(state).loading = false;\n    getStateSection(state).error = action.error;\n  },\n});\n\nexport const withNotifications = ({\n  getErrorMsg,\n  getSuccessMsg,\n}: {\n  getErrorMsg?: (action?: RejectedAction<AsyncThunk<any, any, any>>) => string;\n  getSuccessMsg?: (\n    action?: FulfilledAction<AsyncThunk<any, any, any>>,\n  ) => string;\n}): AsyncReducerConfig<any> => ({\n  onFulfilled: (state, action) => {\n    if (getSuccessMsg)\n      state.notifications.push({ type: 'success', msg: getSuccessMsg(action) });\n  },\n  onRejected: (state, action) => {\n    if (getErrorMsg)\n      state.notifications.push({ type: 'error', msg: getErrorMsg(action) });\n  },\n});\n","/* eslint-disable no-param-reassign */\n/* eslint-disable @typescript-eslint/no-shadow */\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Sdk } from '../../api/sdk';\nimport { FirstParameter, State, ThunkConfigExtraApi } from '../types';\nimport {\n  buildAsyncReducer,\n  withNotifications,\n  withRequestStatus,\n} from './helpers';\n\nconst action = createAsyncThunk<\n  any,\n  FirstParameter<Sdk['role']['create']>,\n  ThunkConfigExtraApi\n>('roles/create', (arg, { extra: { api } }) => api.role.create(arg));\n\nconst reducer = buildAsyncReducer(action)(\n  {\n    onFulfilled: (state, action) => {\n      state.rolesList.data.unshift(action.payload);\n    },\n  },\n  withRequestStatus((state: State) => state.createRole),\n  withNotifications({\n    getSuccessMsg: () => 'Role created successfully',\n    getErrorMsg: (action) => {\n      const errorMsg = action.error?.message;\n      return `\n      <div>\n        <div>Failed to create role</div>\n        ${errorMsg}\n      </div>`;\n    },\n  }),\n);\n\nexport const createRole = { action, reducer };\n","/* eslint-disable no-param-reassign */\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { pluralize } from '@descope/sdk-helpers';\nimport { Sdk } from '../../api/sdk';\nimport { FirstParameter, State, ThunkConfigExtraApi } from '../types';\nimport {\n  buildAsyncReducer,\n  withNotifications,\n  withRequestStatus,\n} from './helpers';\n\nconst action = createAsyncThunk<\n  any,\n  FirstParameter<Sdk['role']['deleteBatch']>,\n  ThunkConfigExtraApi\n>('roles/delete', (arg, { extra: { api } }) => api.role.deleteBatch(arg));\n\nconst reducer = buildAsyncReducer(action)(\n  {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    onFulfilled: (state, action) => {\n      state.rolesList.data = state.rolesList.data.filter(\n        (role) =>\n          role?.tenantId?.length === 0 || !action.meta.arg.includes(role.name),\n      );\n      state.selectedRolesIds = [];\n    },\n  },\n  withRequestStatus((state: State) => state.deleteRole),\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  withNotifications({\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    getSuccessMsg: (action) =>\n      pluralize(action.meta.arg.length)`${['', action.meta.arg.length]} ${[\n        'R',\n        'r',\n      ]}ole${['', 's']} deleted successfully`,\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    getErrorMsg: (action) =>\n      pluralize(action.meta.arg.length)`Failed to delete role${['', 's']}`,\n  }),\n);\n\nexport const deleteRoles = { action, reducer };\n","/* eslint-disable no-param-reassign */\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Sdk } from '../../api/sdk';\nimport { FirstParameter, State, ThunkConfigExtraApi } from '../types';\nimport { buildAsyncReducer, withRequestStatus } from './helpers';\nimport { getSearchParams } from '../selectors';\n\nconst action = createAsyncThunk<\n  any,\n  FirstParameter<Sdk['role']['search']> | void,\n  ThunkConfigExtraApi\n>('roles/search', (arg, { extra: { api }, getState }) => {\n  // we get the existing search params from state, and adding the new search params from the action\n  const searchParams = getSearchParams(getState() as State);\n  return api.role.search({ ...searchParams, ...arg });\n});\n\nconst reducer = buildAsyncReducer(action)(\n  {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    onPending: (state, action) => {\n      state.searchParams = { ...state.searchParams, ...action.meta.arg };\n    },\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    onFulfilled: (state, action) => {\n      state.rolesList.data = action.payload;\n    },\n  },\n  withRequestStatus((state: State) => state.rolesList),\n);\n\nexport const searchRole = { action, reducer };\n","/* eslint-disable no-param-reassign */\n/* eslint-disable @typescript-eslint/no-shadow */\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Sdk } from '../../api/sdk';\nimport { FirstParameter, State, ThunkConfigExtraApi } from '../types';\nimport {\n  buildAsyncReducer,\n  withNotifications,\n  withRequestStatus,\n} from './helpers';\n\nconst action = createAsyncThunk<\n  any,\n  FirstParameter<Sdk['role']['update']>,\n  ThunkConfigExtraApi\n>('roles/update', (arg, { extra: { api } }) => api.role.update(arg));\n\nconst reducer = buildAsyncReducer(action)(\n  {\n    onFulfilled: (state, action) => {\n      const roleIdx = state.rolesList.data.findIndex(\n        (role) => role.name === action.payload.oldName,\n      );\n      if (roleIdx !== -1) {\n        state.rolesList.data[roleIdx] = action.payload;\n      }\n    },\n  },\n  withRequestStatus((state: State) => state.updateRole),\n  withNotifications({\n    getSuccessMsg: () => 'Role updated successfully',\n    getErrorMsg: (action) => {\n      const errorMsg = action.error?.message;\n      return `\n      <div>\n        <div>Failed to update role</div>\n        ${errorMsg}\n      </div>`;\n    },\n  }),\n);\n\nexport const updateRole = { action, reducer };\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Sdk } from '../../api/sdk';\nimport { FirstParameter, State, ThunkConfigExtraApi } from '../types';\nimport { buildAsyncReducer, withRequestStatus } from './helpers';\n\nconst action = createAsyncThunk<\n  any,\n  FirstParameter<Sdk['tenant']['getTenantPermissions']>,\n  ThunkConfigExtraApi\n>('tenant/getTenantPermissions', (_, { extra: { api } }) =>\n  api.tenant.getTenantPermissions(),\n);\n\nconst reducer = buildAsyncReducer(action)(\n  {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    onFulfilled: (state, action) => {\n      // eslint-disable-next-line no-param-reassign\n      state.tenantPermissions.data = action.payload.permissions;\n    },\n  },\n  withRequestStatus((state: State) => state.tenantPermissions),\n);\n\nexport const getTenantPermissions = { action, reducer };\n","import { State } from './types';\n\nexport const initialState: State = {\n  rolesList: {\n    data: [],\n    loading: false,\n    error: null,\n  },\n  createRole: {\n    loading: false,\n    error: null,\n  },\n  updateRole: {\n    loading: false,\n    error: null,\n  },\n  deleteRole: {\n    loading: false,\n    error: null,\n  },\n  tenantPermissions: {\n    loading: false,\n    error: null,\n    data: [],\n  },\n  searchParams: { text: '', sort: [] },\n  selectedRolesIds: [],\n  notifications: [],\n};\n","export const apiPaths = {\n  role: {\n    search: '/v1/mgmt/role/search',\n    deleteBatch: '/v1/mgmt/role/delete/batch',\n    create: '/v1/mgmt/role/create',\n    update: '/v1/mgmt/role/update',\n  },\n  tenant: {\n    permissions: '/v1/mgmt/permission/all',\n  },\n};\n","export const withErrorHandler = async (res: Response) => {\n  const text = await res.text();\n  const json = JSON.parse(text);\n\n  if (!res.ok) {\n    const descopeErrorMsg = `${json.errorDescription}${\n      json.errorMessage ? `: ${json.errorMessage}` : ''\n    }`;\n    throw Error(descopeErrorMsg || `${res.status} ${res.statusText}`);\n  }\n\n  res.json = () => Promise.resolve(json);\n  res.text = () => Promise.resolve(text);\n};\n","import {\n  CreateRoleConfig,\n  HttpClient,\n  SearchRolesConfig,\n  UpdateRoleConfig,\n  Role,\n} from '../types';\nimport { apiPaths } from '../apiPaths';\nimport { withErrorHandler } from './helpers';\nimport { role } from './mocks';\n\nexport const createRoleSdk = ({\n  httpClient,\n  tenant,\n  mock,\n}: {\n  httpClient: HttpClient;\n  tenant: string;\n  mock: boolean;\n}) => {\n  const search: (config: SearchRolesConfig) => Promise<Role[]> = async ({\n    page,\n    limit = 10000,\n    text,\n    sort,\n  } = {}) => {\n    if (mock) {\n      return role.search({ page, limit, text, sort }, tenant);\n    }\n    const res = await httpClient.post(\n      apiPaths.role.search,\n      {\n        limit,\n        page,\n        text,\n        sort,\n      },\n      {\n        queryParams: { tenant },\n      },\n    );\n\n    await withErrorHandler(res);\n\n    const json = await res.json();\n\n    return json.roles;\n  };\n\n  const deleteBatch = async (roleNames: string[]) => {\n    if (mock) {\n      return role.deleteBatch();\n    }\n    const res = await httpClient.post(\n      apiPaths.role.deleteBatch,\n      { roleNames },\n      {\n        queryParams: { tenant },\n      },\n    );\n\n    await withErrorHandler(res);\n\n    return res.json();\n  };\n\n  const create: (config: CreateRoleConfig) => Promise<Role[]> = async ({\n    name,\n    description,\n    permissionNames,\n  }) => {\n    if (mock) {\n      return role.create({ name, description, permissionNames }, tenant);\n    }\n    const res = await httpClient.post(\n      apiPaths.role.create,\n      {\n        name,\n        description,\n        permissionNames,\n        tenantId: tenant,\n      },\n      {\n        queryParams: { tenant },\n      },\n    );\n\n    await withErrorHandler(res);\n\n    const json = await res.json();\n\n    return json;\n  };\n\n  const update: (config: UpdateRoleConfig) => Promise<Role[]> = async ({\n    name,\n    newName,\n    description,\n    permissionNames,\n  }) => {\n    if (mock) {\n      return role.update(\n        { name, newName, description, permissionNames },\n        tenant,\n      );\n    }\n    const res = await httpClient.post(\n      apiPaths.role.update,\n      {\n        name,\n        newName,\n        description,\n        permissionNames,\n        tenantId: tenant,\n      },\n      {\n        queryParams: { tenant },\n      },\n    );\n\n    await withErrorHandler(res);\n\n    const json = await res.json();\n    json.oldName = name;\n    return json;\n  };\n\n  return {\n    search,\n    deleteBatch,\n    create,\n    update,\n  };\n};\n","import {\n  CreateRoleConfig,\n  Permission,\n  Role,\n  SearchRolesConfig,\n  UpdateRoleConfig,\n} from '../types';\n\nconst search: (\n  config: SearchRolesConfig,\n  tenantId: string,\n) => Promise<Role[]> = async ({ text, sort }, tenantId) =>\n  new Promise((resolve) => {\n    const roles: Role[] = [];\n    for (let i = 1; i < 9; i += 1) {\n      roles.push({\n        name: `Role ${i}`,\n        description: `Role description ${i}`,\n        permissionNames: [`Permission ${i}`],\n        createdTime: new Date(),\n        tenantId,\n      });\n    }\n    sort.forEach((s) => {\n      roles.sort((a, b) =>\n        !s.desc\n          ? (a[s.field] as string)?.localeCompare(b[s.field] as string)\n          : (b[s.field] as string)?.localeCompare(a[s.field] as string),\n      );\n    });\n    resolve(\n      roles.filter(\n        (role) =>\n          role.name.toLowerCase().includes(text.toLowerCase()) ||\n          role.description.toLowerCase().includes(text.toLowerCase()),\n      ),\n    );\n  });\n\nconst create: (\n  config: CreateRoleConfig,\n  tenantId: string,\n) => Promise<Role> = async ({ name, description, permissionNames }, tenantId) =>\n  new Promise((resolve) => {\n    resolve({\n      name,\n      description,\n      permissionNames,\n      createdTime: new Date(),\n      tenantId,\n    });\n  });\n\nconst update: (\n  config: UpdateRoleConfig,\n  tenantId: string,\n) => Promise<Role & { oldName: string }> = async (\n  { name, newName, description, permissionNames },\n  tenantId,\n) =>\n  new Promise((resolve) => {\n    resolve({\n      name: newName,\n      description,\n      permissionNames,\n      createdTime: new Date(),\n      oldName: name,\n      tenantId,\n    });\n  });\n\nconst deleteBatch = async () => {};\n\nconst getTenantPermissions = (): Promise<{\n  permissions: Permission[];\n}> =>\n  new Promise((resolve) => {\n    const permissions: Permission[] = [];\n    for (let i = 1; i < 5; i += 1) {\n      permissions.push({\n        name: `Permission ${i}`,\n      });\n    }\n    resolve({ permissions });\n  });\n\nconst role = {\n  search,\n  create,\n  update,\n  deleteBatch,\n};\nconst tenants = {\n  getTenantPermissions,\n};\nexport { role, tenants };\n","import { HttpClient, Permission } from '../types';\nimport { apiPaths } from '../apiPaths';\nimport { withErrorHandler } from './helpers';\nimport { tenants } from './mocks';\n\nexport const createTenantSdk = ({\n  httpClient,\n  tenant,\n  mock,\n}: {\n  httpClient: HttpClient;\n  tenant: string;\n  mock: boolean;\n}) => {\n  const getTenantPermissions = async (): Promise<{\n    permissions: Permission[];\n  }> => {\n    if (mock) {\n      return tenants.getTenantPermissions();\n    }\n    const res = await httpClient.get(apiPaths.tenant.permissions, {\n      queryParams: { tenant },\n    });\n\n    await withErrorHandler(res);\n\n    return res.json();\n  };\n\n  return {\n    getTenantPermissions,\n  };\n};\n","import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport {\n  createValidateAttributesMixin,\n  loggerMixin,\n  observeAttributesMixin,\n  projectIdMixin,\n} from '@descope/sdk-mixins';\nimport { Sdk, createSdk } from '../api/sdk';\n\nexport const apiMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      projectIdMixin,\n      observeAttributesMixin,\n      loggerMixin,\n      createValidateAttributesMixin({\n        tenant: createValidateAttributesMixin.missingAttrValidator,\n      }),\n    )(superclass);\n\n    return class ApiMixinClass extends BaseClass {\n      #api: Sdk;\n\n      #createSdk() {\n        this.logger.debug('creating an sdk instance');\n        this.#api = createSdk(\n          { projectId: this.projectId, baseUrl: this.baseUrl },\n          this.tenant,\n          this.mock === 'true',\n        );\n      }\n\n      get baseUrl() {\n        return this.getAttribute('base-url');\n      }\n\n      get tenant() {\n        return this.getAttribute('tenant');\n      }\n\n      get mock() {\n        return this.getAttribute('mock');\n      }\n\n      get api() {\n        if (!this.#api) {\n          this.#createSdk();\n        }\n\n        return this.#api;\n      }\n\n      async init() {\n        await super.init?.();\n\n        this.observeAttributes(['project-id', 'base-url', 'tenant'], () => {\n          if (this.#api) {\n            this.#createSdk();\n          }\n        });\n      }\n    };\n  },\n);\n","import createWebSdk from '@descope/web-js-sdk';\nimport { createRoleSdk } from './createRoleSdk';\nimport { createTenantSdk } from './createTenantSdk';\n\nexport const createSdk = (\n  config: Parameters<typeof createWebSdk>[0],\n  tenant: string,\n  mock: boolean,\n) => {\n  const webSdk = createWebSdk({ ...config, persistTokens: true });\n\n  return {\n    role: createRoleSdk({ httpClient: webSdk.httpClient, tenant, mock }),\n    tenant: createTenantSdk({ httpClient: webSdk.httpClient, tenant, mock }),\n  };\n};\n\nexport type Sdk = ReturnType<typeof createSdk>;\n","/* eslint-disable no-param-reassign */\nimport { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport {\n  createStateManagementMixin,\n  initLifecycleMixin,\n  loggerMixin,\n} from '@descope/sdk-mixins';\nimport {\n  createRole,\n  deleteRoles,\n  getTenantPermissions,\n  searchRole,\n  updateRole,\n} from '../state/asyncActions';\nimport { initialState } from '../state/initialState';\nimport { apiMixin } from './apiMixin';\n\nexport const stateManagementMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createStateManagementMixin({\n        name: 'widget',\n        initialState,\n        reducers: {\n          setSelectedRolesIds: (state, { payload }) => {\n            state.selectedRolesIds = payload;\n          },\n          clearNotifications: (state) => {\n            state.notifications = [];\n          },\n        },\n        extraReducers: (builder) => {\n          createRole.reducer(builder);\n          updateRole.reducer(builder);\n          deleteRoles.reducer(builder);\n          searchRole.reducer(builder);\n          getTenantPermissions.reducer(builder);\n        },\n        asyncActions: {\n          searchRoles: searchRole.action,\n          createRole: createRole.action,\n          updateRole: updateRole.action,\n          deleteRoles: deleteRoles.action,\n          getTenantPermissions: getTenantPermissions.action,\n        },\n      }),\n      initLifecycleMixin,\n      loggerMixin,\n      apiMixin,\n    )(superclass);\n    return class StateManagementMixinClass extends BaseClass {\n      state = initialState;\n\n      constructor(...args: any) {\n        super(...args);\n\n        this.subscribe((state: typeof initialState) => {\n          this.logger.debug('State update:', state);\n          this.state = state;\n        });\n      }\n    };\n  },\n);\n","import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport {\n  createValidateAttributesMixin,\n  staticResourcesMixin,\n} from '@descope/sdk-mixins';\n\nconst WIDGET_PAGES_BASE_DIR = 'role-management-widget';\n\nexport const fetchWidgetPagesMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      staticResourcesMixin,\n      createValidateAttributesMixin({\n        'widget-id': createValidateAttributesMixin.missingAttrValidator,\n      }),\n    )(superclass);\n    return class FetchWidgetPagesMixinClass extends BaseClass {\n      get widgetId() {\n        return this.getAttribute('widget-id');\n      }\n\n      async fetchWidgetPage(filename: string) {\n        const res = await this.fetchStaticResource(\n          `${WIDGET_PAGES_BASE_DIR}/${this.widgetId}/${filename}`,\n          'text',\n        );\n        return res.body;\n      }\n    };\n  },\n);\n","import {\n  compose,\n  createSingletonMixin,\n  createTemplate,\n} from '@descope/sdk-helpers';\nimport {\n  descopeUiMixin,\n  initElementMixin,\n  initLifecycleMixin,\n  loggerMixin,\n} from '@descope/sdk-mixins';\nimport { fetchWidgetPagesMixin } from '../../fetchWidgetPagesMixin';\nimport { stateManagementMixin } from '../../stateManagementMixin';\n\nexport const initWidgetRootMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitWidgetRootMixinClass extends compose(\n      loggerMixin,\n      initLifecycleMixin,\n      descopeUiMixin,\n      initElementMixin,\n      fetchWidgetPagesMixin,\n      stateManagementMixin,\n    )(superclass) {\n      async #initWidgetRoot() {\n        const template = createTemplate(\n          // await import('../../../../../../test/mocks/rootMock').then(module => module.default)\n          await this.fetchWidgetPage('root.html'),\n        );\n        await this.loadDescopeUiComponents(template);\n        this.contentRootElement.append(template.content.cloneNode(true));\n      }\n\n      // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-empty-function\n      async onWidgetRootReady() {}\n\n      async init() {\n        await super.init?.();\n\n        await Promise.all([\n          this.#initWidgetRoot(),\n          this.actions.searchRoles(),\n          this.actions.getTenantPermissions(),\n        ]);\n\n        this.onWidgetRootReady();\n      }\n    },\n);\n","import {\n  ButtonDriver,\n  ModalDriver,\n  MultiSelectDriver,\n} from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  createTemplate,\n} from '@descope/sdk-helpers';\nimport { formMixin, loggerMixin, modalMixin } from '@descope/sdk-mixins';\nimport { getTenantPermissions } from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initCreateRoleModalMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitCreateRoleModalMixinClass extends compose(\n      stateManagementMixin,\n      modalMixin,\n      formMixin,\n      loggerMixin,\n      initWidgetRootMixin,\n    )(superclass) {\n      createRoleModal: ModalDriver;\n\n      #permissionsMultiSelect: MultiSelectDriver;\n\n      async #initCreateRoleModal() {\n        this.createRoleModal = this.createModal();\n        this.createRoleModal.setContent(\n          createTemplate(\n            // await import('../../../../../../test/mocks/createRoleModalMock').then(module => module.default)\n            await this.fetchWidgetPage('create-role-modal.html'),\n          ),\n        );\n\n        const cancelButton = new ButtonDriver(\n          () =>\n            this.createRoleModal.ele?.querySelector('[data-id=\"modal-cancel\"]'),\n          { logger: this.logger },\n        );\n        cancelButton.onClick(() => {\n          this.createRoleModal.close();\n          this.resetFormData(this.createRoleModal.ele);\n        });\n\n        const submitButton = new ButtonDriver(\n          () =>\n            this.createRoleModal.ele?.querySelector('[data-id=\"modal-submit\"]'),\n          { logger: this.logger },\n        );\n        submitButton.onClick(async () => {\n          if (this.validateForm(this.createRoleModal.ele)) {\n            this.actions.createRole({\n              ...this.getFormData(this.createRoleModal.ele),\n            });\n            this.createRoleModal.close();\n            this.resetFormData(this.createRoleModal.ele);\n          }\n        });\n\n        this.#permissionsMultiSelect = new MultiSelectDriver(\n          () =>\n            this.createRoleModal.ele?.querySelector(\n              '[data-id=\"permissions-multiselect\"]',\n            ),\n          { logger: this.logger },\n        );\n\n        this.#updatePermissionsMultiSelect();\n      }\n\n      #updatePermissionsMultiSelect = async () => {\n        await this.#permissionsMultiSelect.setData(\n          getTenantPermissions(this.state)?.map(({ name }) => ({\n            value: name,\n            label: name,\n          })),\n        );\n      };\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initCreateRoleModal();\n      }\n    },\n);\n","import { ButtonDriver } from '@descope/sdk-component-drivers';\nimport { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { loggerMixin } from '@descope/sdk-mixins';\nimport { initCreateRoleModalMixin } from './initCreateRoleModalMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initCreateRoleButtonMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitCreateRoleButtonMixinClass extends compose(\n      loggerMixin,\n      initCreateRoleModalMixin,\n      initWidgetRootMixin,\n    )(superclass) {\n      createButton: ButtonDriver;\n\n      #initCreateButton() {\n        this.createButton = new ButtonDriver(\n          this.shadowRoot?.querySelector('[data-id=\"create-role\"]'),\n          { logger: this.logger },\n        );\n        this.createButton.onClick(() => this.createRoleModal.open());\n      }\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initCreateButton();\n      }\n    },\n);\n","import {\n  ButtonDriver,\n  ModalDriver,\n  TextDriver,\n} from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  createTemplate,\n} from '@descope/sdk-helpers';\nimport { loggerMixin, modalMixin } from '@descope/sdk-mixins';\nimport {\n  getSelectedRoles,\n  getSelectedRolesDetailsForDisplay,\n} from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initDeleteRolesModalMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitDeleteRolesModalMixinClass extends compose(\n      stateManagementMixin,\n      modalMixin,\n      loggerMixin,\n      initWidgetRootMixin,\n    )(superclass) {\n      deleteRolesModal: ModalDriver;\n\n      async #initDeleteRoleModal() {\n        this.deleteRolesModal = this.createModal();\n        this.deleteRolesModal.setContent(\n          createTemplate(\n            // await import('../../../../../../test/mocks/deleteRoleModalMock').then(module => module.default)\n            await this.fetchWidgetPage('delete-roles-modal.html'),\n          ),\n        );\n\n        const cancelButton = new ButtonDriver(\n          () =>\n            this.deleteRolesModal.ele?.querySelector(\n              '[data-id=\"modal-cancel\"]',\n            ),\n          { logger: this.logger },\n        );\n        cancelButton.onClick(() => this.deleteRolesModal.close());\n\n        const submitButton = new ButtonDriver(\n          () =>\n            this.deleteRolesModal.ele?.querySelector(\n              '[data-id=\"modal-submit\"]',\n            ),\n          { logger: this.logger },\n        );\n        submitButton.onClick(() => {\n          const selectedRoles = getSelectedRoles(this.state);\n          this.actions.deleteRoles(selectedRoles?.map((role) => role.name));\n          this.deleteRolesModal.close();\n        });\n\n        const description = new TextDriver(\n          this.deleteRolesModal.ele?.querySelector('[data-id=\"body-text\"]'),\n          { logger: this.logger },\n        );\n\n        this.deleteRolesModal.beforeOpen = () => {\n          const roleDetails = getSelectedRolesDetailsForDisplay(this.state);\n          description.text = `Delete ${roleDetails}?`;\n        };\n      }\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        await this.#initDeleteRoleModal();\n      }\n    },\n);\n","import { ButtonDriver } from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  withMemCache,\n} from '@descope/sdk-helpers';\nimport { loggerMixin } from '@descope/sdk-mixins';\nimport { getIsRolesSelected } from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initDeleteRolesModalMixin } from './initDeleteRolesModalMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initDeleteRolesButtonMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitDeleteRolesButtonMixinClass extends compose(\n      loggerMixin,\n      initWidgetRootMixin,\n      stateManagementMixin,\n      initDeleteRolesModalMixin,\n    )(superclass) {\n      deleteButton: ButtonDriver;\n\n      #initDeleteButton() {\n        this.deleteButton = new ButtonDriver(\n          this.shadowRoot?.querySelector('[data-id=\"delete-roles\"]'),\n          { logger: this.logger },\n        );\n        this.deleteButton.disable();\n        this.deleteButton.onClick(() => {\n          this.deleteRolesModal.open();\n        });\n      }\n\n      #onIsRoleSelectedUpdate = withMemCache(\n        (isSelected: ReturnType<typeof getIsRolesSelected>) => {\n          if (isSelected) {\n            this.deleteButton.enable();\n          } else {\n            this.deleteButton.disable();\n          }\n        },\n      );\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initDeleteButton();\n\n        this.subscribe(\n          this.#onIsRoleSelectedUpdate.bind(this),\n          getIsRolesSelected,\n        );\n      }\n    },\n);\n","import {\n  ButtonDriver,\n  ModalDriver,\n  MultiSelectDriver,\n} from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  createTemplate,\n} from '@descope/sdk-helpers';\nimport { formMixin, loggerMixin, modalMixin } from '@descope/sdk-mixins';\nimport {\n  getSelectedRoles,\n  getTenantPermissions,\n} from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initEditRoleModalMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitEditRoleModalMixinClass extends compose(\n      stateManagementMixin,\n      modalMixin,\n      loggerMixin,\n      formMixin,\n      initWidgetRootMixin,\n    )(superclass) {\n      editRoleModal: ModalDriver;\n\n      #permissionsMultiSelect: MultiSelectDriver;\n\n      #initCancelButton() {\n        const cancelButton = new ButtonDriver(\n          () =>\n            this.editRoleModal.ele?.querySelector('[data-id=\"modal-cancel\"]'),\n          { logger: this.logger },\n        );\n        cancelButton.onClick(() => this.editRoleModal.close());\n      }\n\n      #initSubmitButton() {\n        const submitButton = new ButtonDriver(\n          () =>\n            this.editRoleModal.ele?.querySelector('[data-id=\"modal-submit\"]'),\n          { logger: this.logger },\n        );\n\n        submitButton.onClick(() => {\n          if (this.validateForm(this.editRoleModal.ele)) {\n            const { name, ...formData } = this.getFormData(\n              this.editRoleModal.ele,\n            );\n            const roleDetails = getSelectedRoles(this.state)?.[0];\n            this.actions.updateRole({\n              newName: name,\n              name: roleDetails.name,\n              ...formData,\n            });\n            this.editRoleModal.close();\n            this.resetFormData(this.editRoleModal.ele);\n          }\n        });\n      }\n\n      #updatePermissionsMultiSelect = async () => {\n        await this.#permissionsMultiSelect.setData(\n          getTenantPermissions(this.state)?.map(({ name }) => ({\n            value: name,\n            label: name,\n          })),\n        );\n      };\n\n      #updateModalData = () => {\n        const roleDetails = getSelectedRoles(this.state)?.[0];\n\n        const formData = {\n          name: roleDetails?.name,\n          description: roleDetails?.description,\n          permissionNames: roleDetails?.permissionNames,\n        };\n\n        this.setFormData(this.editRoleModal.ele, formData);\n      };\n\n      async #initEditRoleModal() {\n        this.editRoleModal = this.createModal();\n        this.editRoleModal.setContent(\n          createTemplate(\n            // await import('../../../../../../test/mocks/editRoleModalMock').then(module => module.default)\n            await this.fetchWidgetPage('edit-role-modal.html'),\n          ),\n        );\n\n        this.#initCancelButton();\n        this.#initSubmitButton();\n\n        this.#permissionsMultiSelect = new MultiSelectDriver(\n          () =>\n            this.editRoleModal.ele?.querySelector(\n              '[data-id=\"permissions-multiselect\"]',\n            ),\n          { logger: this.logger },\n        );\n\n        this.editRoleModal.beforeOpen = async () => {\n          await this.#updatePermissionsMultiSelect();\n          this.#updateModalData();\n        };\n      }\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        await this.#initEditRoleModal();\n      }\n    },\n);\n","import { ButtonDriver } from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  withMemCache,\n} from '@descope/sdk-helpers';\nimport { formMixin, loggerMixin } from '@descope/sdk-mixins';\nimport { getIsSingleRolesSelected } from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initEditRoleModalMixin } from './initEditRoleModalMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initEditRoleButtonMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitEditRoleButtonMixinClass extends compose(\n      loggerMixin,\n      initWidgetRootMixin,\n      stateManagementMixin,\n      initEditRoleModalMixin,\n      formMixin,\n    )(superclass) {\n      editButton: ButtonDriver;\n\n      #initEditButton() {\n        this.editButton = new ButtonDriver(\n          this.shadowRoot?.querySelector('[data-id=\"edit-role\"]'),\n          { logger: this.logger },\n        );\n        this.editButton.disable();\n        this.editButton.onClick(() => {\n          this.editRoleModal.open();\n        });\n      }\n\n      #onIsRoleSelectedUpdate = withMemCache(\n        (isSelected: ReturnType<typeof getIsSingleRolesSelected>) => {\n          if (isSelected) {\n            this.editButton.enable();\n          } else {\n            this.editButton.disable();\n          }\n        },\n      );\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initEditButton();\n\n        this.subscribe(\n          this.#onIsRoleSelectedUpdate.bind(this),\n          getIsSingleRolesSelected,\n        );\n      }\n    },\n);\n","import { TextFieldDriver } from '@descope/sdk-component-drivers';\nimport { compose, createSingletonMixin, debounce } from '@descope/sdk-helpers';\nimport { loggerMixin } from '@descope/sdk-mixins';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initFilterRolesInputMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitFilterRolesInputMixinClass extends compose(\n      loggerMixin,\n      initWidgetRootMixin,\n      stateManagementMixin,\n    )(superclass) {\n      searchInput: TextFieldDriver;\n\n      #onInput = debounce(() => {\n        this.actions.searchRoles({ text: this.searchInput.value });\n      });\n\n      #initSearchInput() {\n        // currently we are doing it on client side because we assume there will not be more than 10000 roles per tenant\n        this.searchInput = new TextFieldDriver(\n          this.shadowRoot?.querySelector('[data-id=\"search-input\"]'),\n          { logger: this.logger },\n        );\n        this.searchInput.onInput(this.#onInput);\n      }\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initSearchInput();\n      }\n    },\n);\n","import {\n  compose,\n  createSingletonMixin,\n  withMemCache,\n} from '@descope/sdk-helpers';\nimport {\n  initLifecycleMixin,\n  loggerMixin,\n  notificationsMixin,\n} from '@descope/sdk-mixins';\nimport checkmark from '../../../../assets/checkmark.svg';\nimport close from '../../../../assets/close.svg';\nimport warning from '../../../../assets/warning.svg';\nimport { getNotifications } from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\n\ntype Notifications = ReturnType<typeof getNotifications>;\ntype Notification = Notifications[0];\n\nconst SUCCESS_NOTIFICATION_DURATION = 3000;\nconst ERROR_NOTIFICATION_DURATION = 0;\n\nconst notificationTypesIcons = {\n  success: checkmark(),\n  error: warning(),\n};\n\nexport const initNotificationsMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitNotificationsMixinClass extends compose(\n      loggerMixin,\n      stateManagementMixin,\n      notificationsMixin,\n      initLifecycleMixin,\n    )(superclass) {\n      // eslint-disable-next-line class-methods-use-this\n      #createNotificationContent({ type, msg }: Notification) {\n        const icon = notificationTypesIcons[type];\n\n        const closeIcon = Object.assign(close(), { slot: 'close' });\n\n        return `${icon?.outerHTML || ''}${msg}${closeIcon.outerHTML}`;\n      }\n\n      #createNotification(type: Notification['type']) {\n        return this.createNotification({\n          mode: type,\n          duration:\n            type === 'error'\n              ? ERROR_NOTIFICATION_DURATION\n              : SUCCESS_NOTIFICATION_DURATION,\n          position: 'bottom-start',\n          size: 'sm',\n        });\n      }\n\n      #onNotificationsUpdate = withMemCache((notifications: Notifications) => {\n        if (notifications.length) {\n          notifications.forEach(({ type, msg }) => {\n            const notification = this.#createNotification(type);\n\n            notification.setContent(\n              this.#createNotificationContent({ type, msg }),\n            );\n\n            notification.show();\n          });\n\n          // when there is a selection update from the table we get a double notification\n          // this is why we are wrapping the clearNotifications action with timeout;\n          setTimeout(() => this.actions.clearNotifications());\n        }\n      });\n\n      async init() {\n        await super.init?.();\n\n        this.subscribe(\n          this.#onNotificationsUpdate.bind(this),\n          getNotifications,\n        );\n      }\n    },\n);\n","import { GridDriver } from '@descope/sdk-component-drivers';\nimport {\n  compose,\n  createSingletonMixin,\n  debounce,\n  withMemCache,\n} from '@descope/sdk-helpers';\nimport { loggerMixin } from '@descope/sdk-mixins';\nimport { Role } from '../../../api/types';\nimport { getRolesList } from '../../../state/selectors';\nimport { stateManagementMixin } from '../../stateManagementMixin';\nimport { initWidgetRootMixin } from './initWidgetRootMixin';\n\nexport const initRolesTableMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class InitRolesTableMixinClass extends compose(\n      stateManagementMixin,\n      loggerMixin,\n      initWidgetRootMixin,\n    )(superclass) {\n      rolesTable: GridDriver<Role>;\n\n      #initRolesTable() {\n        this.rolesTable = new GridDriver(\n          this.shadowRoot?.querySelector('[data-id=\"roles-table\"]'),\n          { logger: this.logger },\n        );\n        this.rolesTable.onSelectedItemsChange((e) => {\n          this.actions.setSelectedRolesIds(\n            e.detail.value.map(({ name }) => name),\n          );\n        });\n      }\n\n      #onRolesListUpdate = withMemCache(\n        (rolesList: ReturnType<typeof getRolesList>) => {\n          this.rolesTable.data = rolesList;\n        },\n      );\n\n      #onColumnSortChange = debounce(\n        (\n          ele: HTMLElement & { path: string },\n          detail: { value: 'asc' | 'desc' | null },\n        ) => {\n          const sort = [];\n          const { value } = detail;\n          if (value) {\n            const field = ele.path;\n            sort.push({ field, desc: value === 'desc' });\n          }\n          this.actions.searchRoles({ sort });\n        },\n      );\n\n      async onWidgetRootReady() {\n        await super.onWidgetRootReady?.();\n\n        this.#initRolesTable();\n        this.rolesTable.columns.forEach((column) => {\n          column.onSortDirectionChange((e: MouseEvent) => {\n            this.#onColumnSortChange(e.target, e.detail);\n          });\n        });\n\n        // because we are not waiting for the rest calls,\n        // we need to make sure the table is updated with the received roles\n        this.#onRolesListUpdate(getRolesList(this.state));\n        this.subscribe(this.#onRolesListUpdate.bind(this), getRolesList);\n      }\n    },\n);\n","import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { debuggerMixin, themeMixin } from '@descope/sdk-mixins';\nimport { initCreateRoleButtonMixin } from './initComponentsMixins/initCreateRoleButtonMixin';\nimport { initDeleteRolesButtonMixin } from './initComponentsMixins/initDeleteRolesButtonMixin';\nimport { initEditRoleButtonMixin } from './initComponentsMixins/initEditRolesButtonMixin';\nimport { initFilterRolesInputMixin } from './initComponentsMixins/initFilterRolesInputMixin';\nimport { initNotificationsMixin } from './initComponentsMixins/initNotificationsMixin';\nimport { initRolesTableMixin } from './initComponentsMixins/initRolesTableMixin';\n\nexport const initMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    // @ts-ignore\n    class InitMixinClass extends compose(\n      debuggerMixin,\n      themeMixin,\n      initRolesTableMixin,\n      initCreateRoleButtonMixin,\n      initDeleteRolesButtonMixin,\n      initEditRoleButtonMixin,\n      initFilterRolesInputMixin,\n      initNotificationsMixin,\n    )(superclass) {\n      async init() {\n        await super.init?.();\n      }\n    },\n);\n","import { compose } from '@descope/sdk-helpers';\nimport { initMixin } from './mixins/initMixin/initMixin';\n\nconst rootMixin = (superclass: CustomElementConstructor) =>\n  class RootMixinClass extends initMixin(superclass) {};\n\nexport const RoleManagementWidget = compose(rootMixin)(HTMLElement);\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport type { Unsubscribe } from 'redux'; //  workaround for https://github.com/microsoft/TypeScript/issues/42873\nimport { RoleManagementWidget } from './widget';\n\nexport default RoleManagementWidget;\n\ncustomElements.define('descope-role-management-widget', RoleManagementWidget);\n"],"names":["logLevels","loggerMixin","createSingletonMixin","superclass","_LoggerMixinClass_instances","_LoggerMixinClass_logger","_LoggerMixinClass_wrapLogger","_a","constructor","set","this","__classPrivateFieldGet","call","console","logger","__classPrivateFieldSet","onLogEvent","logLevel","data","_this","reduce","acc","args","Array","_len","_key","arguments","IS_LOCAL_STORAGE","localStorage","BASE_CONTENT_URL","getItem","missingAttrValidator","attrName","value","concat","initLifecycleMixin","_InitLifecycleMixinClass_isInit","connectedCallback","super","_b","shadowRoot","isConnected","init","observeAttributesMixin","BaseClass","compose","_ObserveAttributesMixinClass_observeMappings","ele","callback","forEach","cb","getAttribute","from","attributes","attr","name","MutationObserver","mutationsList","mutation","type","attributeName","observe","observeAttribute","onAttrChange","idx","push","splice","observeAttributes","attrs","unobserveList","unobserve","createValidateAttributesMixin","mappings","mappingsNames","Object","keys","_ValidateAttributesMixinClass_instances","_ValidateAttributesMixinClass_handleError","bind","newValue","onError","error","projectIdMixin","projectId","staticResourcesMixin","fetchStaticResource","filename","format","resourceUrl","assetsFolder","length","undefined","url","URL","pathname","pathJoin","toString","getResourceUrl","res","fetch","cache","ok","status","body","headers","fromEntries","entries","configMixin","_ConfigMixinClass__configResource","_ConfigMixinClass_fetchConfig","async","projectConfig","executionContext","geo","e","config","debuggerMixin","_DebuggerMixinClass_instances","_DebuggerMixinClass_debuggerEle","_DebuggerMixinClass_disableDebugger","_DebuggerMixinClass_enableDebugger","_DebuggerMixinClass_handleDebugMode","_DebuggerMixinClass_updateDebuggerMessages","attributeChangedCallback","oldValue","debug","remove","document","createElement","assign","style","position","top","right","height","width","pointerEvents","zIndex","Promise","resolve","then","debuggerWc","appendChild","title","description","updateData","DESCOPE_UI_SCRIPT_ID","UI_COMPONENTS_URL_KEY","UI_COMPONENTS_URL","UI_COMPONENTS_FALLBACK_URL","setupScript","id","scriptEle","generateScriptUrl","urlTemplate","componentsVersion","replace","descopeUiMixin","_DescopeUiMixinClass_errorCbsSym","Symbol","_DescopeUiMixinClass_loadCbsSym","_DescopeUiMixinClass_descopeUi","descopeUi","_DescopeUiMixinClass_instances","_DescopeUiMixinClass_getDescopeUi","loadDescopeUiComponents","templateOrComponentNames","descopeUiComponentsList","isArray","template","content","querySelectorAll","el","localName","startsWith","add","Set","getDescopeUiComponentsList","all","map","componentName","_DescopeUiMixinClass_loadDescopeUiComponent","errorCbsSym","loadCbsSym","defineProperty","errorCbs","loadCbs","fallbackScriptEle","append","addEventListener","src","_DescopeUiMixinClass_getComponentsVersion","_DescopeUiMixinClass_handleFallbackScript","querySelector","_DescopeUiMixinClass_exposeAlternateEvents","_DescopeUiMixinClass_registerEvents","getElementById","customElements","get","descopeUI","join","globalThis","DescopeUI","_DescopeUiMixinClass_getDescopeUiLoadingScript","onerror","onload","setTimeout","CONTENT_ROOT_ID","ROOT_ID","initElementMixin","attachShadow","mode","innerHTML","contentRootElement","rootElement","MODAL_ELE_TAG","modalMixin","_ModalMixinClass_ModalDriverWrapper","ModalDriver","setContent","createModal","modal","key","setAttribute","createModalEle","NOTIFICATION_ELE_TAG","notificationsMixin","_NotificationsMixinClass_NotificationDriverWrapper","NotificationDriver","templateOrString","createTemplate","createNotification","notification","createNotificationEle","themeValidation","_","theme","themeMixin","_ThemeMixinClass__themeResource","window","matchMedia","matches","_ThemeMixinClass_instances","_ThemeMixinClass_loadGlobalStyle","_ThemeMixinClass_loadComponentsStyle","_ThemeMixinClass_loadFonts","_ThemeMixinClass_applyTheme","_ThemeMixinClass_fetchTheme","_ThemeMixinClass_themeResource_get","styleEle","innerText","light","globals","dark","componentsThemeManager","themes","components","fonts","cssTemplate","values","font","href","rel","head","loadFont","currentThemeName","createStateManagementMixin","options","slice","createSlice","allActions","actions","asyncActions","_this2","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","extraArgument","serializableCheck","devTools","actionName","action","result","dispatch","unwrapResult","message","stack","subscribe","selector","state","getState","formMixin","validateForm","rootEle","getFormInputs","every","input","reportValidity","checkValidity","getFormData","setFormData","hasOwnProperty","resetFormData","checked","getFormFieldNames","disableFormField","find","removeFormField","limitCoordinateToScreenBoundaries","x","y","boundaries","Math","min","max","left","offsetWidth","innerWidth","offsetHeight","_c","innerHeight","bottom","_d","INITIAL_POS_THRESHOLD","Debugger","HTMLElement","_Debugger_messagesState","State","messages","_Debugger_rootEle","_Debugger_contentEle","_Debugger_headerEle","_Debugger_eventsCbRefs","resize","_Debugger_instances","_Debugger_onWindowResize","cloneNode","update","dragElement","triggerEle","keepVisible","deltaX","deltaY","currentX","currentY","elementDrag","preventDefault","clientX","clientY","offsetLeft","offsetTop","closeDragElement","onmouseup","onmousemove","dragMouseDown","onmousedown","target","w","h","onresize","_Debugger_setCollapsibleMessages","_Debugger_onNewMessages","disconnectedCallback","unsubscribeAll","removeEventListener","_Debugger_renderMessages","element","descEle","isScroll","scrollWidth","clientWidth","isMultiLine","clientHeight","classList","onclick","contains","toggle","Number","parseInt","define","N","selectedRolesIds","F","notifications","I","tenantPermissions","$","P","rolesList","t","editable","tenantId","D","filter","includes","q","B","T","E","i","addCase","pending","_ref","onPending","fulfilled","_ref2","onFulfilled","rejected","_ref3","onRejected","A","loading","H","_ref4","getErrorMsg","getSuccessMsg","msg","Z","L","_ref5","extra","api","role","create","U","unshift","payload","createRole","z","_ref6","deleteBatch","G","meta","arg","deleteRole","_templateObject","_taggedTemplateLiteral","_templateObject2","K","_ref7","o","searchParams","search","X","Y","_ref8","ee","findIndex","oldName","updateRole","te","_ref9","tenant","getTenantPermissions","ie","permissions","oe","text","sort","se","ne","ae","a","JSON","parse","errorDescription","errorMessage","Error","statusText","json","he","_ref13","httpClient","mock","page","limit","s","n","l","_ref10","permissionNames","createdTime","Date","desc","field","localeCompare","toLowerCase","le","post","queryParams","roles","roleNames","_ref14","_ref11","re","_ref15","newName","_ref12","de","r","ge","_ref16","ve","d","c","u","g","baseUrl","WeakMap","WeakSet","O","persistTokens","me","v","initialState","reducers","setSelectedRolesIds","_ref17","clearNotifications","extraReducers","searchRoles","deleteRoles","m","pe","p","widgetId","fetchWidgetPage","Re","R","f","onWidgetRootReady","fe","setData","_ref18","label","createRoleModal","W","onClick","close","k","ye","createButton","open","we","deleteRolesModal","beforeOpen","be","deleteButton","enable","disable","Me","_ref19","editRoleModal","Ce","editButton","We","searchInput","S","onInput","ke","success","DOMParser","parseFromString","firstChild","xe","b","_ref20","show","_ref21","slot","outerHTML","duration","size","Se","rolesTable","path","columns","onSortDirectionChange","detail","j","onSelectedItemsChange","_ref22","je","M","C","Pe"],"sourceRoot":""}